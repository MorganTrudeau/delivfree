diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js
index e616af3..aa8006d 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"useOnCellActiveAnimation",{enumerable:true,get:function get(){return _useOnCellActiveAnimation.useOnCellActiveAnimation;}});exports.OpacityDecorator=exports.ShadowDecorator=exports.ScaleDecorator=void 0;var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _useOnCellActiveAnimation=require("../hooks/useOnCellActiveAnimation");var _this=this,_jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ScaleDecorator=function ScaleDecorator(_ref){var _ref$activeScale=_ref.activeScale,activeScale=_ref$activeScale===void 0?1.1:_ref$activeScale,children=_ref.children;var _useOnCellActiveAnima=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)({animationConfig:{mass:0.1,restDisplacementThreshold:0.0001}}),isActive=_useOnCellActiveAnima.isActive,onActiveAnim=_useOnCellActiveAnima.onActiveAnim;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var animScale=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeScale]);var scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeScale:activeScale,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeScale,isActive}=jsThis._closure;{const animScale=interpolate(onActiveAnim.value,[0,1],[1,activeScale]);const scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};}}";_f.__workletHash=17199828062713;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (22:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:5}},children);};exports.ScaleDecorator=ScaleDecorator;var ShadowDecorator=function ShadowDecorator(_ref2){var _ref2$elevation=_ref2.elevation,elevation=_ref2$elevation===void 0?10:_ref2$elevation,_ref2$color=_ref2.color,color=_ref2$color===void 0?"black":_ref2$color,_ref2$opacity=_ref2.opacity,opacity=_ref2$opacity===void 0?0.25:_ref2$opacity,_ref2$radius=_ref2.radius,radius=_ref2$radius===void 0?5:_ref2$radius,children=_ref2.children;var _useOnCellActiveAnima2=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima2.isActive,onActiveAnim=_useOnCellActiveAnima2.onActiveAnim;var _useDraggableFlatList2=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList2.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:"transparent",shadowOpacity:isActive?shadowOpacity:0};};_f._closure={onActiveAnim:onActiveAnim,opacity:opacity,isActive:isActive,elevation:elevation,radius:radius,color:color};_f.asString="function _f(){const{onActiveAnim,opacity,isActive,elevation,radius,color}=jsThis._closure;{const shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:\"transparent\",shadowOpacity:isActive?shadowOpacity:0};}}";_f.__workletHash=4043081223969;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (55:33)";_f.__optimalization=3;return _f;}(),[isActive,onActiveAnim]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:5}},children);};exports.ShadowDecorator=ShadowDecorator;var OpacityDecorator=function OpacityDecorator(_ref3){var _ref3$activeOpacity=_ref3.activeOpacity,activeOpacity=_ref3$activeOpacity===void 0?0.25:_ref3$activeOpacity,children=_ref3.children;var _useOnCellActiveAnima3=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima3.isActive,onActiveAnim=_useOnCellActiveAnima3.onActiveAnim;var _useDraggableFlatList3=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList3.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var opacity=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeOpacity:activeOpacity,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeOpacity,isActive}=jsThis._closure;{const opacity=interpolate(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};}}";_f.__workletHash=11305163295580;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellDecorators.tsx (83:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:5}},children);};exports.OpacityDecorator=OpacityDecorator;var styles=_reactNative.StyleSheet.create({horizontal:{flexDirection:"row",flex:1}});
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.ShadowDecorator=exports.ScaleDecorator=exports.OpacityDecorator=void 0;Object.defineProperty(exports,"useOnCellActiveAnimation",{enumerable:true,get:function get(){return _useOnCellActiveAnimation.useOnCellActiveAnimation;}});var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _useOnCellActiveAnimation=require("../hooks/useOnCellActiveAnimation");var _this=this,_jsxFileName="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellDecorators.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e){if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}}return n.default=e,t&&t.set(e,n),n;}var ScaleDecorator=exports.ScaleDecorator=function ScaleDecorator(_ref){var _ref$activeScale=_ref.activeScale,activeScale=_ref$activeScale===void 0?1.1:_ref$activeScale,children=_ref.children;var _useOnCellActiveAnima=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)({animationConfig:{mass:0.1,restDisplacementThreshold:0.0001}}),isActive=_useOnCellActiveAnima.isActive,onActiveAnim=_useOnCellActiveAnima.onActiveAnim;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var animScale=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeScale]);var scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeScale:activeScale,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeScale,isActive}=jsThis._closure;{const animScale=interpolate(onActiveAnim.value,[0,1],[1,activeScale]);const scale=isActive?animScale:1;return{transform:[{scaleX:scale},{scaleY:scale}]};}}";_f.__workletHash=17199828062713;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellDecorators.tsx (22:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:5}},children);};var ShadowDecorator=exports.ShadowDecorator=function ShadowDecorator(_ref2){var _ref2$elevation=_ref2.elevation,elevation=_ref2$elevation===void 0?10:_ref2$elevation,_ref2$color=_ref2.color,color=_ref2$color===void 0?"black":_ref2$color,_ref2$opacity=_ref2.opacity,opacity=_ref2$opacity===void 0?0.25:_ref2$opacity,_ref2$radius=_ref2.radius,radius=_ref2$radius===void 0?5:_ref2$radius,children=_ref2.children;var _useOnCellActiveAnima2=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima2.isActive,onActiveAnim=_useOnCellActiveAnima2.onActiveAnim;var _useDraggableFlatList2=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList2.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:"transparent",shadowOpacity:isActive?shadowOpacity:0,boxShadow:"rgba(0, 0, 0, "+shadowOpacity+") 0px 0px 20px"};};_f._closure={onActiveAnim:onActiveAnim,opacity:opacity,isActive:isActive,elevation:elevation,radius:radius,color:color};_f.asString="function _f(){const{onActiveAnim,opacity,isActive,elevation,radius,color}=jsThis._closure;{const shadowOpacity=onActiveAnim.value*opacity;return{elevation:isActive?elevation:0,shadowRadius:isActive?radius:0,shadowColor:isActive?color:\"transparent\",shadowOpacity:isActive?shadowOpacity:0,boxShadow:\"rgba(0, 0, 0, \"+shadowOpacity+\") 0px 0px 20px\"};}}";_f.__workletHash=1033666527866;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellDecorators.tsx (55:33)";_f.__optimalization=3;return _f;}(),[isActive,onActiveAnim]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:5}},children);};var OpacityDecorator=exports.OpacityDecorator=function OpacityDecorator(_ref3){var _ref3$activeOpacity=_ref3.activeOpacity,activeOpacity=_ref3$activeOpacity===void 0?0.25:_ref3$activeOpacity,children=_ref3.children;var _useOnCellActiveAnima3=(0,_useOnCellActiveAnimation.useOnCellActiveAnimation)(),isActive=_useOnCellActiveAnima3.isActive,onActiveAnim=_useOnCellActiveAnima3.onActiveAnim;var _useDraggableFlatList3=(0,_draggableFlatListContext.useDraggableFlatListContext)(),horizontal=_useDraggableFlatList3.horizontal;var style=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){var opacity=(0,_reactNativeReanimated.interpolate)(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};};_f._closure={interpolate:_reactNativeReanimated.interpolate,onActiveAnim:onActiveAnim,activeOpacity:activeOpacity,isActive:isActive};_f.asString="function _f(){const{interpolate,onActiveAnim,activeOpacity,isActive}=jsThis._closure;{const opacity=interpolate(onActiveAnim.value,[0,1],[1,activeOpacity]);return{opacity:isActive?opacity:1};}}";_f.__workletHash=11305163295580;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellDecorators.tsx (84:33)";_f.__optimalization=3;return _f;}(),[isActive]);return _react.default.createElement(_reactNativeReanimated.default.View,{style:[style,horizontal&&styles.horizontal],__self:_this,__source:{fileName:_jsxFileName,lineNumber:92,columnNumber:5}},children);};var styles=_reactNative.StyleSheet.create({horizontal:{flexDirection:"row",flex:1}});
 //# sourceMappingURL=CellDecorators.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js.map b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js.map
index f48d2f1..703e7dd 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellDecorators.js.map
@@ -1 +1 @@
-{"version":3,"names":["ScaleDecorator","activeScale","children","useOnCellActiveAnimation","animationConfig","mass","restDisplacementThreshold","isActive","onActiveAnim","useDraggableFlatListContext","horizontal","style","useAnimatedStyle","animScale","interpolate","value","scale","transform","scaleX","scaleY","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","activeOpacity","StyleSheet","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeReanimated","_interopRequireWildcard","_draggableFlatListContext","_useOnCellActiveAnimation","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ScaleDecorator","exports","_ref","_ref$activeScale","activeScale","children","_useOnCellActiveAnima","useOnCellActiveAnimation","animationConfig","mass","restDisplacementThreshold","isActive","onActiveAnim","_useDraggableFlatList","useDraggableFlatListContext","horizontal","style","useAnimatedStyle","_f","animScale","interpolate","value","scale","transform","scaleX","scaleY","_closure","asString","__workletHash","__location","__optimalization","createElement","View","styles","__self","__source","fileName","lineNumber","columnNumber","ShadowDecorator","_ref2","_ref2$elevation","elevation","_ref2$color","color","_ref2$opacity","opacity","_ref2$radius","radius","_useOnCellActiveAnima2","_useDraggableFlatList2","shadowOpacity","shadowRadius","shadowColor","boxShadow","OpacityDecorator","_ref3","_ref3$activeOpacity","activeOpacity","_useOnCellActiveAnima3","_useDraggableFlatList3","StyleSheet","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n      boxShadow: `rgba(0, 0, 0, ${shadowOpacity}) 0px 0px 20px`,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js
index 410f58f..158ccd4 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _constants=require("../constants");var _useCellTranslate=require("../hooks/useCellTranslate");var _utils=require("../utils");var _refContext=require("../context/refContext");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=_interopRequireDefault(require("../context/cellContext"));var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function CellRendererComponent(props){var item=props.item,index=props.index,onLayout=props.onLayout,children=props.children,rest=(0,_objectWithoutProperties2.default)(props,["item","index","onLayout","children"]);var viewRef=(0,_react.useRef)(null);var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,propsRef=_useRefs.propsRef,containerRef=_useRefs.containerRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,keyExtractor=_useDraggableFlatList.keyExtractor,horizontal=_useDraggableFlatList.horizontal,layoutAnimationDisabled=_useDraggableFlatList.layoutAnimationDisabled;var key=keyExtractor(item,index);var offset=(0,_reactNativeReanimated.useSharedValue)(-1);var size=(0,_reactNativeReanimated.useSharedValue)(-1);var heldTanslate=(0,_reactNativeReanimated.useSharedValue)(0);var translate=(0,_useCellTranslate.useCellTranslate)({cellOffset:offset,cellSize:size,cellIndex:index});var isActive=activeKey===key;var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){if(translate.value&&!_constants.isWeb){heldTanslate.value=translate.value;}var t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};};_f._closure={translate:translate,isWeb:_constants.isWeb,heldTanslate:heldTanslate,activeKey:activeKey,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{translate,isWeb,heldTanslate,activeKey,horizontalAnim}=jsThis._closure;{if(translate.value&&!isWeb){heldTanslate.value=translate.value;}const t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};}}";_f.__workletHash=2668800953096;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (59:37)";_f.__optimalization=1;return _f;}(),[translate,activeKey]);var updateCellMeasurements=(0,_useStableCallback.useStableCallback)(function(){var onSuccess=function onSuccess(x,y,w,h){if(_constants.isWeb&&horizontal)x+=scrollOffset.value;var cellOffset=horizontal?x:y;var cellSize=horizontal?w:h;cellDataRef.current.set(key,{measurements:{size:cellSize,offset:cellOffset}});size.value=cellSize;offset.value=cellOffset;};var onFail=function onFail(){var _propsRef$current;if((_propsRef$current=propsRef.current)!=null&&_propsRef$current.debug){console.log("## on measure fail, index: "+index);}};var containerNode=containerRef.current;var viewNode=viewRef.current;var nodeHandle=containerNode;if(viewNode&&nodeHandle){viewNode.measureLayout(nodeHandle,onSuccess,onFail);}});var onCellLayout=(0,_useStableCallback.useStableCallback)(function(e){heldTanslate.value=0;updateCellMeasurements();if(onLayout&&e)onLayout(e);});(0,_react.useEffect)(function(){if(_constants.isWeb){requestAnimationFrame(function(){onCellLayout();});}},[index,onCellLayout]);var baseStyle=(0,_react.useMemo)(function(){return{elevation:isActive?1:0,zIndex:isActive?999:0,flexDirection:horizontal?"row":"column"};},[isActive,horizontal]);var _propsRef$current2=propsRef.current,itemEnteringAnimation=_propsRef$current2.itemEnteringAnimation,itemExitingAnimation=_propsRef$current2.itemExitingAnimation,itemLayoutAnimation=_propsRef$current2.itemLayoutAnimation;(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;var tag=(0,_reactNative.findNodeHandle)(viewRef.current);(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(t,_layoutDisabled){if(!t)return;var config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);var stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}};_f._closure={stashConfig:stashConfig,getStashedConfig:getStashedConfig};_f.asString="function _f(t,_layoutDisabled){const{stashConfig,getStashedConfig}=jsThis._closure;{if(!t)return;const config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);const stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}}}";_f.__workletHash=14167513442446;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (140:12)";return _f;}())(tag,layoutAnimationDisabled);},[layoutAnimationDisabled]);return _react.default.createElement(_reactNativeReanimated.default.View,(0,_extends2.default)({},rest,{ref:viewRef,onLayout:onCellLayout,entering:itemEnteringAnimation,exiting:itemExitingAnimation,layout:propsRef.current.enableLayoutAnimationExperimental?itemLayoutAnimation:undefined,style:[props.style,baseStyle,activeKey?animStyle:styles.zeroTranslate],pointerEvents:activeKey?"none":"auto",__self:this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:5}}),_react.default.createElement(_cellContext.default,{isActive:isActive,__self:this,__source:{fileName:_jsxFileName,lineNumber:173,columnNumber:7}},children));}var _default=(0,_utils.typedMemo)(CellRendererComponent);exports.default=_default;var styles=_reactNative.StyleSheet.create({zeroTranslate:{transform:[{translateX:0},{translateY:0}]}});(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(){global.RNDFLLayoutAnimationConfigStash={};};_f._closure={};_f.asString="function _f(){global.RNDFLLayoutAnimationConfigStash={};}";_f.__workletHash=11308490141335;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (194:8)";return _f;}())();var stashConfig=function(){var _f=function _f(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;};_f._closure={};_f.asString="function stashConfig(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;}";_f.__workletHash=481659566906;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (199:0)";return _f;}();var getStashedConfig=function(){var _f=function _f(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];};_f._closure={};_f.asString="function getStashedConfig(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];}";_f.__workletHash=4781167627856;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (206:0)";return _f;}();
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _draggableFlatListContext=require("../context/draggableFlatListContext");var _constants=require("../constants");var _useCellTranslate=require("../hooks/useCellTranslate");var _utils=require("../utils");var _refContext=require("../context/refContext");var _animatedValueContext=require("../context/animatedValueContext");var _cellContext=_interopRequireDefault(require("../context/cellContext"));var _useStableCallback=require("../hooks/useStableCallback");var _jsxFileName="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx";var _excluded=["item","index","onLayout","children","layoutKey"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e){if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}}return n.default=e,t&&t.set(e,n),n;}function CellRendererComponent(props){var item=props.item,index=props.index,onLayout=props.onLayout,children=props.children,layoutKey=props.layoutKey,rest=(0,_objectWithoutProperties2.default)(props,_excluded);var viewRef=(0,_react.useRef)(null);var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,propsRef=_useRefs.propsRef,containerRef=_useRefs.containerRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),horizontalAnim=_useAnimatedValues.horizontalAnim,scrollOffset=_useAnimatedValues.scrollOffset;var _useDraggableFlatList=(0,_draggableFlatListContext.useDraggableFlatListContext)(),activeKey=_useDraggableFlatList.activeKey,keyExtractor=_useDraggableFlatList.keyExtractor,horizontal=_useDraggableFlatList.horizontal,layoutAnimationDisabled=_useDraggableFlatList.layoutAnimationDisabled;var key=keyExtractor(item,index);var offset=(0,_reactNativeReanimated.useSharedValue)(-1);var size=(0,_reactNativeReanimated.useSharedValue)(-1);var heldTanslate=(0,_reactNativeReanimated.useSharedValue)(0);var translate=(0,_useCellTranslate.useCellTranslate)({cellOffset:offset,cellSize:size,cellIndex:index});var isActive=activeKey===key;var animStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){if(translate.value&&!_constants.isWeb){heldTanslate.value=translate.value;}var t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};};_f._closure={translate:translate,isWeb:_constants.isWeb,heldTanslate:heldTanslate,activeKey:activeKey,horizontalAnim:horizontalAnim};_f.asString="function _f(){const{translate,isWeb,heldTanslate,activeKey,horizontalAnim}=jsThis._closure;{if(translate.value&&!isWeb){heldTanslate.value=translate.value;}const t=activeKey?translate.value:heldTanslate.value;return{transform:[horizontalAnim.value?{translateX:t}:{translateY:t}]};}}";_f.__workletHash=2668800953096;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (60:37)";_f.__optimalization=1;return _f;}(),[translate,activeKey]);var updateCellMeasurements=(0,_useStableCallback.useStableCallback)(function(){var onSuccess=function onSuccess(x,y,w,h){console.log(x,y,w,h);if(_constants.isWeb&&horizontal)x+=scrollOffset.value;var cellOffset=horizontal?x:y;var cellSize=horizontal?w:h;cellDataRef.current.set(key,{measurements:{size:cellSize,offset:cellOffset}});size.value=cellSize;offset.value=cellOffset;};var onFail=function onFail(){var _propsRef$current;if((_propsRef$current=propsRef.current)!=null&&_propsRef$current.debug){console.log("## on measure fail, index: "+index);}};var containerNode=containerRef.current;var viewNode=viewRef.current;var nodeHandle=containerNode;if(viewNode&&nodeHandle){viewNode.measureLayout(nodeHandle,onSuccess,onFail);}});var onCellLayout=(0,_useStableCallback.useStableCallback)(function(e){heldTanslate.value=0;updateCellMeasurements();if(onLayout&&e)onLayout(e);});(0,_react.useEffect)(function(){if(_constants.isWeb){requestAnimationFrame(function(){onCellLayout();});}},[index,onCellLayout]);var lastLayoutKey=(0,_react.useRef)(layoutKey);(0,_react.useEffect)(function(){if(lastLayoutKey.current!==layoutKey){requestAnimationFrame(function(){onCellLayout();});lastLayoutKey.current=layoutKey;}},[layoutKey]);var baseStyle=(0,_react.useMemo)(function(){return{elevation:isActive?1:0,zIndex:isActive?999:0,flexDirection:horizontal?"row":"column"};},[isActive,horizontal]);var _propsRef$current2=propsRef.current,itemEnteringAnimation=_propsRef$current2.itemEnteringAnimation,itemExitingAnimation=_propsRef$current2.itemExitingAnimation,itemLayoutAnimation=_propsRef$current2.itemLayoutAnimation;(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;var tag=(0,_reactNative.findNodeHandle)(viewRef.current);(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(t,_layoutDisabled){if(!t)return;var config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);var stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}};_f._closure={stashConfig:stashConfig,getStashedConfig:getStashedConfig};_f.asString="function _f(t,_layoutDisabled){const{stashConfig,getStashedConfig}=jsThis._closure;{if(!t)return;const config=global.LayoutAnimationRepository.configs[t];if(config)stashConfig(t,config);const stashedConfig=getStashedConfig(t);if(_layoutDisabled){global.LayoutAnimationRepository.removeConfig(t);}else if(stashedConfig){global.LayoutAnimationRepository.registerConfig(t,stashedConfig);}}}";_f.__workletHash=14167513442446;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (152:12)";return _f;}())(tag,layoutAnimationDisabled);},[layoutAnimationDisabled]);return _react.default.createElement(_reactNativeReanimated.default.View,(0,_extends2.default)({},rest,{ref:viewRef,onLayout:onCellLayout,entering:itemEnteringAnimation,exiting:itemExitingAnimation,layout:propsRef.current.enableLayoutAnimationExperimental?itemLayoutAnimation:undefined,style:[props.style,baseStyle,activeKey?animStyle:styles.zeroTranslate],pointerEvents:activeKey?"none":"auto",__self:this,__source:{fileName:_jsxFileName,lineNumber:167,columnNumber:5}}),_react.default.createElement(_cellContext.default,{isActive:isActive,__self:this,__source:{fileName:_jsxFileName,lineNumber:185,columnNumber:7}},children));}var _default=exports.default=(0,_utils.typedMemo)(CellRendererComponent);var styles=_reactNative.StyleSheet.create({zeroTranslate:{transform:[{translateX:0},{translateY:0}]}});(0,_reactNativeReanimated.runOnUI)(function(){var _f=function _f(){global.RNDFLLayoutAnimationConfigStash={};};_f._closure={};_f.asString="function _f(){global.RNDFLLayoutAnimationConfigStash={};}";_f.__workletHash=11308490141335;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (206:8)";return _f;}())();var stashConfig=function(){var _f=function _f(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;};_f._closure={};_f.asString="function stashConfig(tag,config){if(!global.RNDFLLayoutAnimationConfigStash)global.RNDFLLayoutAnimationConfigStash={};global.RNDFLLayoutAnimationConfigStash[tag]=config;}";_f.__workletHash=481659566906;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (211:0)";return _f;}();var getStashedConfig=function(){var _f=function _f(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];};_f._closure={};_f.asString="function getStashedConfig(tag){if(!global.RNDFLLayoutAnimationConfigStash)return null;return global.RNDFLLayoutAnimationConfigStash[tag];}";_f.__workletHash=4781167627856;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx (218:0)";return _f;}();
 //# sourceMappingURL=CellRendererComponent.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js.map b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js.map
index bce8150..53b5ff5 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/CellRendererComponent.js.map
@@ -1 +1 @@
-{"version":3,"names":["CellRendererComponent","props","item","index","onLayout","children","rest","viewRef","useRef","useRefs","cellDataRef","propsRef","containerRef","useAnimatedValues","horizontalAnim","scrollOffset","useDraggableFlatListContext","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","useSharedValue","size","heldTanslate","translate","useCellTranslate","cellOffset","cellSize","cellIndex","isActive","animStyle","useAnimatedStyle","value","isWeb","t","transform","translateX","translateY","updateCellMeasurements","useStableCallback","onSuccess","x","y","w","h","current","set","measurements","onFail","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","useEffect","requestAnimationFrame","baseStyle","useMemo","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","findNodeHandle","runOnUI","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","undefined","style","styles","zeroTranslate","typedMemo","StyleSheet","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_draggableFlatListContext","_constants","_useCellTranslate","_utils","_refContext","_animatedValueContext","_cellContext","_interopRequireDefault","_useStableCallback","_jsxFileName","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CellRendererComponent","props","item","index","onLayout","children","layoutKey","rest","_objectWithoutProperties2","viewRef","useRef","_useRefs","useRefs","cellDataRef","propsRef","containerRef","_useAnimatedValues","useAnimatedValues","horizontalAnim","scrollOffset","_useDraggableFlatList","useDraggableFlatListContext","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","useSharedValue","size","heldTanslate","translate","useCellTranslate","cellOffset","cellSize","cellIndex","isActive","animStyle","useAnimatedStyle","_f","value","isWeb","transform","translateX","translateY","_closure","asString","__workletHash","__location","__optimalization","updateCellMeasurements","useStableCallback","onSuccess","x","y","w","h","console","log","current","measurements","onFail","_propsRef$current","debug","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","useEffect","requestAnimationFrame","lastLayoutKey","baseStyle","useMemo","elevation","zIndex","flexDirection","_propsRef$current2","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","findNodeHandle","runOnUI","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","createElement","View","_extends2","ref","entering","exiting","layout","undefined","style","styles","zeroTranslate","pointerEvents","__self","__source","fileName","lineNumber","columnNumber","_default","exports","typedMemo","StyleSheet","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n  layoutKey: string\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, layoutKey, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      console.log(x, y, w, h);\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const lastLayoutKey = useRef(layoutKey)\n  useEffect(() => {\n    if(lastLayoutKey.current !== layoutKey) {\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n      lastLayoutKey.current =layoutKey\n    }\n  }, [layoutKey])\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js
index a7b2d41..6332865 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js
@@ -1,2 +1,2 @@
-var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _CellRendererComponent=_interopRequireDefault(require("./CellRendererComponent"));var _constants=require("../constants");var _PlaceholderItem=_interopRequireDefault(require("./PlaceholderItem"));var _RowItem=_interopRequireDefault(require("./RowItem"));var _propsContext=_interopRequireDefault(require("../context/propsContext"));var _animatedValueContext=_interopRequireWildcard(require("../context/animatedValueContext"));var _refContext=_interopRequireWildcard(require("../context/refContext"));var _draggableFlatListContext=_interopRequireDefault(require("../context/draggableFlatListContext"));var _useAutoScroll=require("../hooks/useAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _ScrollOffsetListener=_interopRequireDefault(require("./ScrollOffsetListener"));var _utils=require("../utils");var _jsxFileName="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var AnimatedFlatList=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.FlatList);function DraggableFlatListInner(props){var _this=this;var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,containerRef=_useRefs.containerRef,flatlistRef=_useRefs.flatlistRef,keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef,animationConfigRef=_useRefs.animationConfigRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellOffset=_useAnimatedValues.activeCellOffset,activeCellSize=_useAnimatedValues.activeCellSize,activeIndexAnim=_useAnimatedValues.activeIndexAnim,containerSize=_useAnimatedValues.containerSize,scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,touchTranslate=_useAnimatedValues.touchTranslate,autoScrollDistance=_useAnimatedValues.autoScrollDistance,panGestureState=_useAnimatedValues.panGestureState,isTouchActiveNative=_useAnimatedValues.isTouchActiveNative,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax,disabled=_useAnimatedValues.disabled;var reset=(0,_useStableCallback.useStableCallback)(function(){activeIndexAnim.value=-1;spacerIndexAnim.value=-1;touchTranslate.value=0;activeCellSize.value=-1;activeCellOffset.value=-1;setActiveKey(null);});var _props$dragHitSlop=props.dragHitSlop,dragHitSlop=_props$dragHitSlop===void 0?_constants.DEFAULT_PROPS.dragHitSlop:_props$dragHitSlop,_props$scrollEnabled=props.scrollEnabled,scrollEnabled=_props$scrollEnabled===void 0?_constants.DEFAULT_PROPS.scrollEnabled:_props$scrollEnabled,_props$activationDist=props.activationDistance,activationDistanceProp=_props$activationDist===void 0?_constants.DEFAULT_PROPS.activationDistance:_props$activationDist;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),activeKey=_useState2[0],setActiveKey=_useState2[1];var _useState3=(0,_react.useState)(!propsRef.current.enableLayoutAnimationExperimental),_useState4=(0,_slicedToArray2.default)(_useState3,2),layoutAnimationDisabled=_useState4[0],setLayoutAnimationDisabled=_useState4[1];var keyExtractor=(0,_useStableCallback.useStableCallback)(function(item,index){if(!props.keyExtractor){throw new Error("You must provide a keyExtractor to DraggableFlatList");}return props.keyExtractor(item,index);});var dataRef=(0,_react.useRef)(props.data);var dataHasChanged=dataRef.current.map(keyExtractor).join("")!==props.data.map(keyExtractor).join("");dataRef.current=props.data;if(dataHasChanged){activeKey=null;}(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;if(activeKey){setLayoutAnimationDisabled(true);}else{setTimeout(function(){setLayoutAnimationDisabled(false);},100);}},[activeKey]);(0,_react.useLayoutEffect)(function(){props.data.forEach(function(d,i){var key=keyExtractor(d,i);keyToIndexRef.current.set(key,i);});},[props.data,keyExtractor,keyToIndexRef]);var drag=(0,_useStableCallback.useStableCallback)(function(activeKey){if(disabled.value)return;var index=keyToIndexRef.current.get(activeKey);var cellData=cellDataRef.current.get(activeKey);if(cellData){activeCellOffset.value=cellData.measurements.offset;activeCellSize.value=cellData.measurements.size;}var onDragBegin=propsRef.current.onDragBegin;if(index!==undefined){spacerIndexAnim.value=index;activeIndexAnim.value=index;setActiveKey(activeKey);onDragBegin==null?void 0:onDragBegin(index);}});var onContainerLayout=function onContainerLayout(_ref){var layout=_ref.nativeEvent.layout;var width=layout.width,height=layout.height;containerSize.value=props.horizontal?width:height;props.onContainerLayout==null?void 0:props.onContainerLayout({layout:layout,containerRef:containerRef});};var onListContentSizeChange=function onListContentSizeChange(w,h){scrollViewSize.value=props.horizontal?w:h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);};var onContainerTouchStart=function onContainerTouchStart(){if(!disabled.value){isTouchActiveNative.value=true;}return false;};var onContainerTouchEnd=function onContainerTouchEnd(){isTouchActiveNative.value=false;};var extraData=(0,_react.useMemo)(function(){return{activeKey:activeKey,extraData:props.extraData};},[activeKey,props.extraData]);var renderItem=(0,_react.useCallback)(function(_ref2){var item=_ref2.item,index=_ref2.index;var key=keyExtractor(item,index);if(index!==keyToIndexRef.current.get(key)){keyToIndexRef.current.set(key,index);}return _react.default.createElement(_RowItem.default,{item:item,itemKey:key,renderItem:props.renderItem,drag:drag,extraData:props.extraData,__self:_this,__source:{fileName:_jsxFileName,lineNumber:197,columnNumber:9}});},[props.renderItem,props.extraData,drag,keyExtractor]);var onRelease=(0,_useStableCallback.useStableCallback)(function(index){props.onRelease==null?void 0:props.onRelease(index);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(_ref3){var from=_ref3.from,to=_ref3.to;var onDragEnd=props.onDragEnd,data=props.data;var newData=(0,_toConsumableArray2.default)(data);if(from!==to){newData.splice(from,1);newData.splice(to,0,data[from]);}onDragEnd==null?void 0:onDragEnd({from:from,to:to,data:newData});reset();});var onPlaceholderIndexChange=(0,_useStableCallback.useStableCallback)(function(index){props.onPlaceholderIndexChange==null?void 0:props.onPlaceholderIndexChange(index);});(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isTouchActiveNative.value;};_f._closure={isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{isTouchActiveNative}=jsThis._closure;{return isTouchActiveNative.value;}}";_f.__workletHash=14702024657843;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (234:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&!cur){var hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}};_f._closure={touchTranslate:touchTranslate,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(cur,prev){const{touchTranslate,activeIndexAnim,disabled,runOnJS,onRelease,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(cur!==prev&&!cur){const hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){runOnJS(onRelease)(activeIndexAnim.value);runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}}}";_f.__workletHash=5951241873481;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (237:4)";return _f;}(),[isTouchActiveNative,onDragEnd,onRelease]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return spacerIndexAnim.value;};_f._closure={spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{spacerIndexAnim}=jsThis._closure;{return spacerIndexAnim.value;}}";_f.__workletHash=2960108028947;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (253:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){(0,_reactNativeReanimated.runOnJS)(onPlaceholderIndexChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onPlaceholderIndexChange:onPlaceholderIndexChange};_f.asString="function _f(cur,prev){const{runOnJS,onPlaceholderIndexChange}=jsThis._closure;{if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){runOnJS(onPlaceholderIndexChange)(cur);}}}";_f.__workletHash=16965253726735;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (256:4)";return _f;}(),[spacerIndexAnim]);var gestureDisabled=(0,_reactNativeReanimated.useSharedValue)(false);var panGesture=_reactNativeGestureHandler.Gesture.Pan().onBegin(function(){var _f=function _f(evt){gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;};_f._closure={gestureDisabled:gestureDisabled,disabled:disabled,panGestureState:panGestureState};_f.asString="function _f(evt){const{gestureDisabled,disabled,panGestureState}=jsThis._closure;{gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;}}";_f.__workletHash=17574034116918;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (267:13)";return _f;}()).onUpdate(function(){var _f=function _f(evt){if(gestureDisabled.value)return;panGestureState.value=evt.state;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;};_f._closure={gestureDisabled:gestureDisabled,panGestureState:panGestureState,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate};_f.asString="function _f(evt){const{gestureDisabled,panGestureState,horizontalAnim,touchTranslate}=jsThis._closure;{if(gestureDisabled.value)return;panGestureState.value=evt.state;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;}}";_f.__workletHash=5455568984874;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (272:14)";return _f;}()).onEnd(function(){var _f=function _f(evt){if(gestureDisabled.value)return;isTouchActiveNative.value=false;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);var springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=(0,_reactNativeReanimated.withSpring)(springTo,animationConfigRef.current,function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onDragEnd:onDragEnd,activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim,disabled:disabled};_f.asString="function _f(){const{runOnJS,onDragEnd,activeIndexAnim,spacerIndexAnim,disabled}=jsThis._closure;{runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;}}";_f.__workletHash=1618704508901;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (299:8)";return _f;}());};_f._closure={gestureDisabled:gestureDisabled,isTouchActiveNative:isTouchActiveNative,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,panGestureState:panGestureState,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,placeholderOffset:placeholderOffset,activeCellOffset:activeCellOffset,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:{current:animationConfigRef.current},onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(evt){const{gestureDisabled,isTouchActiveNative,horizontalAnim,touchTranslate,autoScrollDistance,panGestureState,activeIndexAnim,disabled,runOnJS,onRelease,placeholderOffset,activeCellOffset,withSpring,animationConfigRef,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(gestureDisabled.value)return;isTouchActiveNative.value=false;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;runOnJS(onRelease)(activeIndexAnim.value);const springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=withSpring(springTo,animationConfigRef.current,function(){runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;});}}";_f.__workletHash=10097216425009;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (280:11)";return _f;}()).onTouchesDown(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchStart)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchStart:onContainerTouchStart};_f.asString="function _f(){const{runOnJS,onContainerTouchStart}=jsThis._closure;{runOnJS(onContainerTouchStart)();}}";_f.__workletHash=4756906064016;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (308:19)";return _f;}()).onTouchesUp(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchEnd)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchEnd:onContainerTouchEnd};_f.asString="function _f(){const{runOnJS,onContainerTouchEnd}=jsThis._closure;{runOnJS(onContainerTouchEnd)();}}";_f.__workletHash=9596402198608;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (311:17)";return _f;}());if(dragHitSlop)panGesture.hitSlop(dragHitSlop);if(activationDistanceProp){var activeOffset=[-activationDistanceProp,activationDistanceProp];if(props.horizontal){panGesture.activeOffsetX(activeOffset);}else{panGesture.activeOffsetY(activeOffset);}}var onScroll=(0,_useStableCallback.useStableCallback)(function(scrollOffset){props.onScrollOffsetChange==null?void 0:props.onScrollOffsetChange(scrollOffset);});var scrollHandler=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(evt){scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;(0,_reactNativeReanimated.runOnJS)(onScroll)(scrollOffset.value);};_f._closure={scrollOffset:scrollOffset,horizontalAnim:horizontalAnim,runOnJS:_reactNativeReanimated.runOnJS,onScroll:onScroll};_f.asString="function _f(evt){const{scrollOffset,horizontalAnim,runOnJS,onScroll}=jsThis._closure;{scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;runOnJS(onScroll)(scrollOffset.value);}}";_f.__workletHash=5653789960368;_f.__location="/Users/danielmerrill/dev/draggable/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (333:16)";return _f;}()},[horizontalAnim]);(0,_useAutoScroll.useAutoScroll)();var onViewableItemsChanged=(0,_useStableCallback.useStableCallback)(function(info){var viewableIndices=info.viewableItems.filter(function(item){return item.isViewable;}).map(function(item){return item.index;}).filter(function(index){return typeof index==="number";});var min=Math.min.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));var max=Math.max.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));viewableIndexMin.value=min;viewableIndexMax.value=max;props.onViewableItemsChanged==null?void 0:props.onViewableItemsChanged(info);});return _react.default.createElement(_draggableFlatListContext.default,{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:!!props.horizontal,layoutAnimationDisabled:layoutAnimationDisabled,__self:this,__source:{fileName:_jsxFileName,lineNumber:361,columnNumber:5}},_react.default.createElement(_reactNativeGestureHandler.GestureDetector,{gesture:panGesture,__self:this,__source:{fileName:_jsxFileName,lineNumber:367,columnNumber:7}},_react.default.createElement(_reactNativeReanimated.default.View,{style:props.containerStyle,ref:containerRef,onLayout:onContainerLayout,__self:this,__source:{fileName:_jsxFileName,lineNumber:368,columnNumber:9}},props.renderPlaceholder&&_react.default.createElement(_PlaceholderItem.default,{renderPlaceholder:props.renderPlaceholder,__self:this,__source:{fileName:_jsxFileName,lineNumber:374,columnNumber:13}}),_react.default.createElement(AnimatedFlatList,(0,_extends2.default)({},props,{data:props.data,onViewableItemsChanged:onViewableItemsChanged,CellRendererComponent:_CellRendererComponent.default,ref:flatlistRef,onContentSizeChange:onListContentSizeChange,scrollEnabled:!activeKey&&scrollEnabled,renderItem:renderItem,extraData:extraData,keyExtractor:keyExtractor,onScroll:scrollHandler,scrollEventThrottle:16,simultaneousHandlers:props.simultaneousHandlers,removeClippedSubviews:false,__self:this,__source:{fileName:_jsxFileName,lineNumber:376,columnNumber:11}})),!!props.onScrollOffsetChange&&_react.default.createElement(_ScrollOffsetListener.default,{onScrollOffsetChange:props.onScrollOffsetChange,scrollOffset:scrollOffset,__self:this,__source:{fileName:_jsxFileName,lineNumber:393,columnNumber:13}}))));}function DraggableFlatList(props,ref){return _react.default.createElement(_propsContext.default,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:409,columnNumber:5}}),_react.default.createElement(_animatedValueContext.default,{__self:this,__source:{fileName:_jsxFileName,lineNumber:410,columnNumber:7}},_react.default.createElement(_refContext.default,{flatListRef:ref,__self:this,__source:{fileName:_jsxFileName,lineNumber:411,columnNumber:9}},_react.default.createElement(MemoizedInner,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:412,columnNumber:11}})))));}var MemoizedInner=(0,_utils.typedMemo)(DraggableFlatListInner);var _default=_react.default.forwardRef(DraggableFlatList);exports.default=_default;
+var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _CellRendererComponent=_interopRequireDefault(require("./CellRendererComponent"));var _constants=require("../constants");var _PlaceholderItem=_interopRequireDefault(require("./PlaceholderItem"));var _RowItem=_interopRequireDefault(require("./RowItem"));var _propsContext=_interopRequireDefault(require("../context/propsContext"));var _animatedValueContext=_interopRequireWildcard(require("../context/animatedValueContext"));var _refContext=_interopRequireWildcard(require("../context/refContext"));var _draggableFlatListContext=_interopRequireDefault(require("../context/draggableFlatListContext"));var _useAutoScroll=require("../hooks/useAutoScroll");var _useStableCallback=require("../hooks/useStableCallback");var _ScrollOffsetListener=_interopRequireDefault(require("./ScrollOffsetListener"));var _utils=require("../utils");var _jsxFileName="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e){if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}}return n.default=e,t&&t.set(e,n),n;}var AnimatedFlatList=_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.FlatList);function DraggableFlatListInner(props){var _this=this;var _useRefs=(0,_refContext.useRefs)(),cellDataRef=_useRefs.cellDataRef,containerRef=_useRefs.containerRef,flatlistRef=_useRefs.flatlistRef,keyToIndexRef=_useRefs.keyToIndexRef,propsRef=_useRefs.propsRef,animationConfigRef=_useRefs.animationConfigRef;var _useAnimatedValues=(0,_animatedValueContext.useAnimatedValues)(),activeCellOffset=_useAnimatedValues.activeCellOffset,activeCellSize=_useAnimatedValues.activeCellSize,activeIndexAnim=_useAnimatedValues.activeIndexAnim,containerSize=_useAnimatedValues.containerSize,scrollOffset=_useAnimatedValues.scrollOffset,scrollViewSize=_useAnimatedValues.scrollViewSize,spacerIndexAnim=_useAnimatedValues.spacerIndexAnim,horizontalAnim=_useAnimatedValues.horizontalAnim,placeholderOffset=_useAnimatedValues.placeholderOffset,touchTranslate=_useAnimatedValues.touchTranslate,autoScrollDistance=_useAnimatedValues.autoScrollDistance,panGestureState=_useAnimatedValues.panGestureState,isTouchActiveNative=_useAnimatedValues.isTouchActiveNative,viewableIndexMin=_useAnimatedValues.viewableIndexMin,viewableIndexMax=_useAnimatedValues.viewableIndexMax,disabled=_useAnimatedValues.disabled;var reset=(0,_useStableCallback.useStableCallback)(function(){activeIndexAnim.value=-1;spacerIndexAnim.value=-1;touchTranslate.value=0;activeCellSize.value=-1;activeCellOffset.value=-1;setActiveKey(null);});var _props$dragHitSlop=props.dragHitSlop,dragHitSlop=_props$dragHitSlop===void 0?_constants.DEFAULT_PROPS.dragHitSlop:_props$dragHitSlop,_props$scrollEnabled=props.scrollEnabled,scrollEnabled=_props$scrollEnabled===void 0?_constants.DEFAULT_PROPS.scrollEnabled:_props$scrollEnabled,_props$activationDist=props.activationDistance,activationDistanceProp=_props$activationDist===void 0?_constants.DEFAULT_PROPS.activationDistance:_props$activationDist;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2.default)(_useState,2),activeKey=_useState2[0],setActiveKey=_useState2[1];var _useState3=(0,_react.useState)(!propsRef.current.enableLayoutAnimationExperimental),_useState4=(0,_slicedToArray2.default)(_useState3,2),layoutAnimationDisabled=_useState4[0],setLayoutAnimationDisabled=_useState4[1];var keyExtractor=(0,_useStableCallback.useStableCallback)(function(item,index){if(!props.keyExtractor){throw new Error("You must provide a keyExtractor to DraggableFlatList");}return props.keyExtractor(item,index);});var dataRef=(0,_react.useRef)(props.data);var dataHasChanged=dataRef.current.map(keyExtractor).join("")!==props.data.map(keyExtractor).join("");dataRef.current=props.data;if(dataHasChanged){activeKey=null;}(0,_react.useEffect)(function(){if(!propsRef.current.enableLayoutAnimationExperimental)return;if(activeKey){setLayoutAnimationDisabled(true);}else{setTimeout(function(){setLayoutAnimationDisabled(false);},100);}},[activeKey]);(0,_react.useLayoutEffect)(function(){props.data.forEach(function(d,i){var key=keyExtractor(d,i);keyToIndexRef.current.set(key,i);});},[props.data,keyExtractor,keyToIndexRef]);var drag=(0,_useStableCallback.useStableCallback)(function(activeKey){if(disabled.value)return;var index=keyToIndexRef.current.get(activeKey);var cellData=cellDataRef.current.get(activeKey);if(cellData){activeCellOffset.value=cellData.measurements.offset;activeCellSize.value=cellData.measurements.size;}var onDragBegin=propsRef.current.onDragBegin;if(index!==undefined){spacerIndexAnim.value=index;activeIndexAnim.value=index;setActiveKey(activeKey);onDragBegin==null?void 0:onDragBegin(index);}});var onContainerLayout=function onContainerLayout(_ref){var layout=_ref.nativeEvent.layout;var width=layout.width,height=layout.height;containerSize.value=props.horizontal?width:height;props.onContainerLayout==null?void 0:props.onContainerLayout({layout:layout,containerRef:containerRef});};var onListContentSizeChange=function onListContentSizeChange(w,h){scrollViewSize.value=props.horizontal?w:h;props.onContentSizeChange==null?void 0:props.onContentSizeChange(w,h);};var onContainerTouchStart=function onContainerTouchStart(){if(!disabled.value){isTouchActiveNative.value=true;}return false;};var onContainerTouchEnd=function onContainerTouchEnd(){isTouchActiveNative.value=false;};var extraData=(0,_react.useMemo)(function(){return{activeKey:activeKey,extraData:props.extraData};},[activeKey,props.extraData]);var renderItem=(0,_react.useCallback)(function(_ref2){var item=_ref2.item,index=_ref2.index;var key=keyExtractor(item,index);if(index!==keyToIndexRef.current.get(key)){keyToIndexRef.current.set(key,index);}return _react.default.createElement(_RowItem.default,{item:item,itemKey:key,renderItem:props.renderItem,drag:drag,extraData:props.extraData,__self:_this,__source:{fileName:_jsxFileName,lineNumber:197,columnNumber:9}});},[props.renderItem,props.extraData,drag,keyExtractor]);var onRelease=(0,_useStableCallback.useStableCallback)(function(index){props.onRelease==null?void 0:props.onRelease(index);});var onDragEnd=(0,_useStableCallback.useStableCallback)(function(_ref3){var from=_ref3.from,to=_ref3.to;var onDragEnd=props.onDragEnd,data=props.data;var newData=(0,_toConsumableArray2.default)(data);if(from!==to){newData.splice(from,1);newData.splice(to,0,data[from]);}onDragEnd==null?void 0:onDragEnd({from:from,to:to,data:newData});setTimeout(reset,100);});var onPlaceholderIndexChange=(0,_useStableCallback.useStableCallback)(function(index){props.onPlaceholderIndexChange==null?void 0:props.onPlaceholderIndexChange(index);});(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return isTouchActiveNative.value;};_f._closure={isTouchActiveNative:isTouchActiveNative};_f.asString="function _f(){const{isTouchActiveNative}=jsThis._closure;{return isTouchActiveNative.value;}}";_f.__workletHash=14702024657843;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (234:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(cur!==prev&&!cur){var hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}};_f._closure={touchTranslate:touchTranslate,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(cur,prev){const{touchTranslate,activeIndexAnim,disabled,runOnJS,onRelease,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(cur!==prev&&!cur){const hasMoved=!!touchTranslate.value;if(!hasMoved&&activeIndexAnim.value>=0&&!disabled.value){runOnJS(onRelease)(activeIndexAnim.value);runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});}}}}";_f.__workletHash=5951241873481;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (237:4)";return _f;}(),[isTouchActiveNative,onDragEnd,onRelease]);(0,_reactNativeReanimated.useAnimatedReaction)(function(){var _f=function _f(){return spacerIndexAnim.value;};_f._closure={spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(){const{spacerIndexAnim}=jsThis._closure;{return spacerIndexAnim.value;}}";_f.__workletHash=2960108028947;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (253:4)";return _f;}(),function(){var _f=function _f(cur,prev){if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){(0,_reactNativeReanimated.runOnJS)(onPlaceholderIndexChange)(cur);}};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onPlaceholderIndexChange:onPlaceholderIndexChange};_f.asString="function _f(cur,prev){const{runOnJS,onPlaceholderIndexChange}=jsThis._closure;{if(prev!==null&&cur!==prev&&cur>=0&&prev>=0){runOnJS(onPlaceholderIndexChange)(cur);}}}";_f.__workletHash=16965253726735;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (256:4)";return _f;}(),[spacerIndexAnim]);var gestureDisabled=(0,_reactNativeReanimated.useSharedValue)(false);var panGesture=_reactNativeGestureHandler.Gesture.Pan().onBegin(function(){var _f=function _f(evt){gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;};_f._closure={gestureDisabled:gestureDisabled,disabled:disabled,panGestureState:panGestureState};_f.asString="function _f(evt){const{gestureDisabled,disabled,panGestureState}=jsThis._closure;{gestureDisabled.value=disabled.value;if(gestureDisabled.value)return;panGestureState.value=evt.state;}}";_f.__workletHash=17574034116918;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (267:13)";return _f;}()).onUpdate(function(){var _f=function _f(evt){if(gestureDisabled.value)return;panGestureState.value=evt.state;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;};_f._closure={gestureDisabled:gestureDisabled,panGestureState:panGestureState,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate};_f.asString="function _f(evt){const{gestureDisabled,panGestureState,horizontalAnim,touchTranslate}=jsThis._closure;{if(gestureDisabled.value)return;panGestureState.value=evt.state;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation;}}";_f.__workletHash=5455568984874;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (272:14)";return _f;}()).onEnd(function(){var _f=function _f(evt){if(gestureDisabled.value)return;isTouchActiveNative.value=false;var translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;(0,_reactNativeReanimated.runOnJS)(onRelease)(activeIndexAnim.value);var springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=(0,_reactNativeReanimated.withSpring)(springTo,animationConfigRef.current,function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onDragEnd:onDragEnd,activeIndexAnim:activeIndexAnim,spacerIndexAnim:spacerIndexAnim,disabled:disabled};_f.asString="function _f(){const{runOnJS,onDragEnd,activeIndexAnim,spacerIndexAnim,disabled}=jsThis._closure;{runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;}}";_f.__workletHash=1618704508901;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (299:8)";return _f;}());};_f._closure={gestureDisabled:gestureDisabled,isTouchActiveNative:isTouchActiveNative,horizontalAnim:horizontalAnim,touchTranslate:touchTranslate,autoScrollDistance:autoScrollDistance,panGestureState:panGestureState,activeIndexAnim:activeIndexAnim,disabled:disabled,runOnJS:_reactNativeReanimated.runOnJS,onRelease:onRelease,placeholderOffset:placeholderOffset,activeCellOffset:activeCellOffset,withSpring:_reactNativeReanimated.withSpring,animationConfigRef:{current:animationConfigRef.current},onDragEnd:onDragEnd,spacerIndexAnim:spacerIndexAnim};_f.asString="function _f(evt){const{gestureDisabled,isTouchActiveNative,horizontalAnim,touchTranslate,autoScrollDistance,panGestureState,activeIndexAnim,disabled,runOnJS,onRelease,placeholderOffset,activeCellOffset,withSpring,animationConfigRef,onDragEnd,spacerIndexAnim}=jsThis._closure;{if(gestureDisabled.value)return;isTouchActiveNative.value=false;const translation=horizontalAnim.value?evt.translationX:evt.translationY;touchTranslate.value=translation+autoScrollDistance.value;panGestureState.value=evt.state;if(activeIndexAnim.value===-1||disabled.value)return;disabled.value=true;runOnJS(onRelease)(activeIndexAnim.value);const springTo=placeholderOffset.value-activeCellOffset.value;touchTranslate.value=withSpring(springTo,animationConfigRef.current,function(){runOnJS(onDragEnd)({from:activeIndexAnim.value,to:spacerIndexAnim.value});disabled.value=false;});}}";_f.__workletHash=10097216425009;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (280:11)";return _f;}()).onTouchesDown(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchStart)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchStart:onContainerTouchStart};_f.asString="function _f(){const{runOnJS,onContainerTouchStart}=jsThis._closure;{runOnJS(onContainerTouchStart)();}}";_f.__workletHash=4756906064016;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (308:19)";return _f;}()).onTouchesUp(function(){var _f=function _f(){(0,_reactNativeReanimated.runOnJS)(onContainerTouchEnd)();};_f._closure={runOnJS:_reactNativeReanimated.runOnJS,onContainerTouchEnd:onContainerTouchEnd};_f.asString="function _f(){const{runOnJS,onContainerTouchEnd}=jsThis._closure;{runOnJS(onContainerTouchEnd)();}}";_f.__workletHash=9596402198608;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (311:17)";return _f;}());if(dragHitSlop)panGesture.hitSlop(dragHitSlop);if(activationDistanceProp){var activeOffset=[-activationDistanceProp,activationDistanceProp];if(props.horizontal){panGesture.activeOffsetX(activeOffset);}else{panGesture.activeOffsetY(activeOffset);}}var onScroll=(0,_useStableCallback.useStableCallback)(function(scrollOffset){props.onScrollOffsetChange==null?void 0:props.onScrollOffsetChange(scrollOffset);});var scrollHandler=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onScroll:function(){var _f=function _f(evt){scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;(0,_reactNativeReanimated.runOnJS)(onScroll)(scrollOffset.value);};_f._closure={scrollOffset:scrollOffset,horizontalAnim:horizontalAnim,runOnJS:_reactNativeReanimated.runOnJS,onScroll:onScroll};_f.asString="function _f(evt){const{scrollOffset,horizontalAnim,runOnJS,onScroll}=jsThis._closure;{scrollOffset.value=horizontalAnim.value?evt.contentOffset.x:evt.contentOffset.y;runOnJS(onScroll)(scrollOffset.value);}}";_f.__workletHash=5653789960368;_f.__location="/Users/morgantrudeau/projects/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx (333:16)";return _f;}()},[horizontalAnim]);(0,_useAutoScroll.useAutoScroll)();var onViewableItemsChanged=(0,_useStableCallback.useStableCallback)(function(info){var viewableIndices=info.viewableItems.filter(function(item){return item.isViewable;}).map(function(item){return item.index;}).filter(function(index){return typeof index==="number";});var min=Math.min.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));var max=Math.max.apply(Math,(0,_toConsumableArray2.default)(viewableIndices));viewableIndexMin.value=min;viewableIndexMax.value=max;props.onViewableItemsChanged==null?void 0:props.onViewableItemsChanged(info);});var renderCellRenderComponent=(0,_useStableCallback.useStableCallback)(function(cellProps){return _react.default.createElement(_CellRendererComponent.default,(0,_extends2.default)({},cellProps,{layoutKey:props.layoutKey,__self:_this,__source:{fileName:_jsxFileName,lineNumber:361,columnNumber:11}}));});return _react.default.createElement(_draggableFlatListContext.default,{activeKey:activeKey,keyExtractor:keyExtractor,horizontal:!!props.horizontal,layoutAnimationDisabled:layoutAnimationDisabled,__self:this,__source:{fileName:_jsxFileName,lineNumber:365,columnNumber:5}},_react.default.createElement(_reactNativeGestureHandler.GestureDetector,{gesture:panGesture,__self:this,__source:{fileName:_jsxFileName,lineNumber:371,columnNumber:7}},_react.default.createElement(_reactNativeReanimated.default.View,{style:props.containerStyle,ref:containerRef,onLayout:onContainerLayout,__self:this,__source:{fileName:_jsxFileName,lineNumber:372,columnNumber:9}},props.renderPlaceholder&&_react.default.createElement(_PlaceholderItem.default,{renderPlaceholder:props.renderPlaceholder,__self:this,__source:{fileName:_jsxFileName,lineNumber:378,columnNumber:13}}),_react.default.createElement(AnimatedFlatList,(0,_extends2.default)({},props,{data:props.data,onViewableItemsChanged:onViewableItemsChanged,CellRendererComponent:renderCellRenderComponent,ref:flatlistRef,onContentSizeChange:onListContentSizeChange,scrollEnabled:!activeKey&&scrollEnabled,renderItem:renderItem,extraData:extraData,keyExtractor:keyExtractor,onScroll:scrollHandler,scrollEventThrottle:16,simultaneousHandlers:props.simultaneousHandlers,removeClippedSubviews:false,__self:this,__source:{fileName:_jsxFileName,lineNumber:380,columnNumber:11}})),!!props.onScrollOffsetChange&&_react.default.createElement(_ScrollOffsetListener.default,{onScrollOffsetChange:props.onScrollOffsetChange,scrollOffset:scrollOffset,__self:this,__source:{fileName:_jsxFileName,lineNumber:397,columnNumber:13}}))));}function DraggableFlatList(props,ref){return _react.default.createElement(_propsContext.default,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:413,columnNumber:5}}),_react.default.createElement(_animatedValueContext.default,{__self:this,__source:{fileName:_jsxFileName,lineNumber:414,columnNumber:7}},_react.default.createElement(_refContext.default,{flatListRef:ref,__self:this,__source:{fileName:_jsxFileName,lineNumber:415,columnNumber:9}},_react.default.createElement(MemoizedInner,(0,_extends2.default)({},props,{__self:this,__source:{fileName:_jsxFileName,lineNumber:416,columnNumber:11}})))));}var MemoizedInner=(0,_utils.typedMemo)(DraggableFlatListInner);var _default=exports.default=_react.default.forwardRef(DraggableFlatList);
 //# sourceMappingURL=DraggableFlatList.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js.map b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js.map
index 2334104..89788f3 100644
--- a/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/commonjs/components/DraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["AnimatedFlatList","Animated","createAnimatedComponent","FlatList","DraggableFlatListInner","props","useRefs","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","useAnimatedValues","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","useStableCallback","value","setActiveKey","dragHitSlop","DEFAULT_PROPS","scrollEnabled","activationDistance","activationDistanceProp","useState","activeKey","current","enableLayoutAnimationExperimental","layoutAnimationDisabled","setLayoutAnimationDisabled","keyExtractor","item","index","Error","dataRef","useRef","data","dataHasChanged","map","join","useEffect","setTimeout","useLayoutEffect","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","layout","nativeEvent","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","useMemo","renderItem","useCallback","onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","useAnimatedReaction","cur","prev","hasMoved","runOnJS","gestureDisabled","useSharedValue","panGesture","Gesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","withSpring","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","useAnimatedScrollHandler","contentOffset","x","y","useAutoScroll","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","max","containerStyle","renderPlaceholder","CellRendererComponent","simultaneousHandlers","DraggableFlatList","ref","MemoizedInner","typedMemo","React","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"mbAAA,qDASA,uEAKA,uFAOA,sFACA,uCACA,0EACA,0DAEA,6EACA,8FAGA,0EACA,qGACA,qDACA,6DACA,oFACA,+B,qnCAcA,GAAMA,iBAAgB,CAAIC,8BAAA,CAASC,uBAAT,CACxBC,mCADwB,CAA1B,CAIA,QAASC,uBAAT,CAAmCC,KAAnC,CAAqE,6BAQ/D,GAAAC,mBAAA,GAR+D,CAEjEC,WAFiE,UAEjEA,WAFiE,CAGjEC,YAHiE,UAGjEA,YAHiE,CAIjEC,WAJiE,UAIjEA,WAJiE,CAKjEC,aALiE,UAKjEA,aALiE,CAMjEC,QANiE,UAMjEA,QANiE,CAOjEC,kBAPiE,UAOjEA,kBAPiE,wBA0B/D,GAAAC,uCAAA,GA1B+D,CAUjEC,gBAViE,oBAUjEA,gBAViE,CAWjEC,cAXiE,oBAWjEA,cAXiE,CAYjEC,eAZiE,oBAYjEA,eAZiE,CAajEC,aAbiE,oBAajEA,aAbiE,CAcjEC,YAdiE,oBAcjEA,YAdiE,CAejEC,cAfiE,oBAejEA,cAfiE,CAgBjEC,eAhBiE,oBAgBjEA,eAhBiE,CAiBjEC,cAjBiE,oBAiBjEA,cAjBiE,CAkBjEC,iBAlBiE,oBAkBjEA,iBAlBiE,CAmBjEC,cAnBiE,oBAmBjEA,cAnBiE,CAoBjEC,kBApBiE,oBAoBjEA,kBApBiE,CAqBjEC,eArBiE,oBAqBjEA,eArBiE,CAsBjEC,mBAtBiE,oBAsBjEA,mBAtBiE,CAuBjEC,gBAvBiE,oBAuBjEA,gBAvBiE,CAwBjEC,gBAxBiE,oBAwBjEA,gBAxBiE,CAyBjEC,QAzBiE,oBAyBjEA,QAzBiE,CA4BnE,GAAMC,MAAK,CAAG,GAAAC,oCAAA,EAAkB,UAAM,CACpCf,eAAe,CAACgB,KAAhB,CAAwB,CAAC,CAAzB,CACAZ,eAAe,CAACY,KAAhB,CAAwB,CAAC,CAAzB,CACAT,cAAc,CAACS,KAAf,CAAuB,CAAvB,CACAjB,cAAc,CAACiB,KAAf,CAAuB,CAAC,CAAxB,CACAlB,gBAAgB,CAACkB,KAAjB,CAAyB,CAAC,CAA1B,CACAC,YAAY,CAAC,IAAD,CAAZ,CACD,CAPa,CAAd,CA5BmE,uBAyC/D5B,KAzC+D,CAsCjE6B,WAtCiE,CAsCjEA,WAtCiE,6BAsCnDC,wBAAA,CAAcD,WAtCqC,yCAyC/D7B,KAzC+D,CAuCjE+B,aAvCiE,CAuCjEA,aAvCiE,+BAuCjDD,wBAAA,CAAcC,aAvCmC,4CAyC/D/B,KAzC+D,CAwCjEgC,kBAxCiE,CAwC7CC,sBAxC6C,gCAwCpBH,wBAAA,CAAcE,kBAxCM,qCA2CnC,GAAAE,eAAA,EAAwB,IAAxB,CA3CmC,qDA2C9DC,SA3C8D,eA2CnDP,YA3CmD,8BA4CL,GAAAM,eAAA,EAC5D,CAAC5B,QAAQ,CAAC8B,OAAT,CAAiBC,iCAD0C,CA5CK,sDA4C5DC,uBA5C4D,eA4CnCC,0BA5CmC,eAgDnE,GAAMC,aAAY,CAAG,GAAAd,oCAAA,EAAkB,SAACe,IAAD,CAAUC,KAAV,CAA4B,CACjE,GAAI,CAAC1C,KAAK,CAACwC,YAAX,CAAyB,CACvB,KAAM,IAAIG,MAAJ,CAAU,sDAAV,CAAN,CACD,CACD,MAAO3C,MAAK,CAACwC,YAAN,CAAmBC,IAAnB,CAAyBC,KAAzB,CAAP,CACD,CALoB,CAArB,CAOA,GAAME,QAAO,CAAG,GAAAC,aAAA,EAAO7C,KAAK,CAAC8C,IAAb,CAAhB,CACA,GAAMC,eAAc,CAClBH,OAAO,CAACR,OAAR,CAAgBY,GAAhB,CAAoBR,YAApB,EAAkCS,IAAlC,CAAuC,EAAvC,IACAjD,KAAK,CAAC8C,IAAN,CAAWE,GAAX,CAAeR,YAAf,EAA6BS,IAA7B,CAAkC,EAAlC,CAFF,CAGAL,OAAO,CAACR,OAAR,CAAkBpC,KAAK,CAAC8C,IAAxB,CACA,GAAIC,cAAJ,CAAoB,CAElBZ,SAAS,CAAG,IAAZ,CACD,CAED,GAAAe,gBAAA,EAAU,UAAM,CACd,GAAI,CAAC5C,QAAQ,CAAC8B,OAAT,CAAiBC,iCAAtB,CAAyD,OACzD,GAAIF,SAAJ,CAAe,CACbI,0BAA0B,CAAC,IAAD,CAA1B,CACD,CAFD,IAEO,CAGLY,UAAU,CAAC,UAAM,CACfZ,0BAA0B,CAAC,KAAD,CAA1B,CACD,CAFS,CAEP,GAFO,CAAV,CAGD,CACF,CAXD,CAWG,CAACJ,SAAD,CAXH,EAaA,GAAAiB,sBAAA,EAAgB,UAAM,CACpBpD,KAAK,CAAC8C,IAAN,CAAWO,OAAX,CAAmB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC3B,GAAMC,IAAG,CAAGhB,YAAY,CAACc,CAAD,CAAIC,CAAJ,CAAxB,CACAlD,aAAa,CAAC+B,OAAd,CAAsBqB,GAAtB,CAA0BD,GAA1B,CAA+BD,CAA/B,EACD,CAHD,EAID,CALD,CAKG,CAACvD,KAAK,CAAC8C,IAAP,CAAaN,YAAb,CAA2BnC,aAA3B,CALH,EAOA,GAAMqD,KAAI,CAAG,GAAAhC,oCAAA,EAAkB,SAACS,SAAD,CAAuB,CACpD,GAAIX,QAAQ,CAACG,KAAb,CAAoB,OACpB,GAAMe,MAAK,CAAGrC,aAAa,CAAC+B,OAAd,CAAsBuB,GAAtB,CAA0BxB,SAA1B,CAAd,CACA,GAAMyB,SAAQ,CAAG1D,WAAW,CAACkC,OAAZ,CAAoBuB,GAApB,CAAwBxB,SAAxB,CAAjB,CACA,GAAIyB,QAAJ,CAAc,CACZnD,gBAAgB,CAACkB,KAAjB,CAAyBiC,QAAQ,CAACC,YAAT,CAAsBC,MAA/C,CACApD,cAAc,CAACiB,KAAf,CAAuBiC,QAAQ,CAACC,YAAT,CAAsBE,IAA7C,CACD,CAPmD,GAS5CC,YAT4C,CAS5B1D,QAAQ,CAAC8B,OATmB,CAS5C4B,WAT4C,CAUpD,GAAItB,KAAK,GAAKuB,SAAd,CAAyB,CACvBlD,eAAe,CAACY,KAAhB,CAAwBe,KAAxB,CACA/B,eAAe,CAACgB,KAAhB,CAAwBe,KAAxB,CACAd,YAAY,CAACO,SAAD,CAAZ,CACA6B,WAAW,MAAX,QAAAA,WAAW,CAAGtB,KAAH,CAAX,CACD,CACF,CAhBY,CAAb,CAkBA,GAAMwB,kBAAiB,CAAG,QAApBA,kBAAoB,MAED,IADRC,OACQ,MADvBC,WACuB,CADRD,MACQ,IACfE,MADe,CACGF,MADH,CACfE,KADe,CACRC,MADQ,CACGH,MADH,CACRG,MADQ,CAEvB1D,aAAa,CAACe,KAAd,CAAsB3B,KAAK,CAACuE,UAAN,CAAmBF,KAAnB,CAA2BC,MAAjD,CACAtE,KAAK,CAACkE,iBAAN,cAAAlE,KAAK,CAACkE,iBAAN,CAA0B,CAAEC,MAAM,CAANA,MAAF,CAAUhE,YAAY,CAAZA,YAAV,CAA1B,EACD,CAND,CAQA,GAAMqE,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACC,CAAD,CAAYC,CAAZ,CAA0B,CACxD5D,cAAc,CAACa,KAAf,CAAuB3B,KAAK,CAACuE,UAAN,CAAmBE,CAAnB,CAAuBC,CAA9C,CACA1E,KAAK,CAAC2E,mBAAN,cAAA3E,KAAK,CAAC2E,mBAAN,CAA4BF,CAA5B,CAA+BC,CAA/B,EACD,CAHD,CAKA,GAAME,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CAClC,GAAI,CAACpD,QAAQ,CAACG,KAAd,CAAqB,CACnBN,mBAAmB,CAACM,KAApB,CAA4B,IAA5B,CACD,CACD,MAAO,MAAP,CACD,CALD,CAOA,GAAMkD,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChCxD,mBAAmB,CAACM,KAApB,CAA4B,KAA5B,CACD,CAFD,CAIA,GAAMmD,UAAS,CAAG,GAAAC,cAAA,EAChB,iBAAO,CACL5C,SAAS,CAATA,SADK,CAEL2C,SAAS,CAAE9E,KAAK,CAAC8E,SAFZ,CAAP,EADgB,CAKhB,CAAC3C,SAAD,CAAYnC,KAAK,CAAC8E,SAAlB,CALgB,CAAlB,CAQA,GAAME,WAA6B,CAAG,GAAAC,kBAAA,EACpC,eAAqB,IAAlBxC,KAAkB,OAAlBA,IAAkB,CAAZC,KAAY,OAAZA,KAAY,CACnB,GAAMc,IAAG,CAAGhB,YAAY,CAACC,IAAD,CAAOC,KAAP,CAAxB,CACA,GAAIA,KAAK,GAAKrC,aAAa,CAAC+B,OAAd,CAAsBuB,GAAtB,CAA0BH,GAA1B,CAAd,CAA8C,CAC5CnD,aAAa,CAAC+B,OAAd,CAAsBqB,GAAtB,CAA0BD,GAA1B,CAA+Bd,KAA/B,EACD,CAED,MACE,8BAAC,gBAAD,EACE,IAAI,CAAED,IADR,CAEE,OAAO,CAAEe,GAFX,CAGE,UAAU,CAAExD,KAAK,CAACgF,UAHpB,CAIE,IAAI,CAAEtB,IAJR,CAKE,SAAS,CAAE1D,KAAK,CAAC8E,SALnB,8EADF,CASD,CAhBmC,CAiBpC,CAAC9E,KAAK,CAACgF,UAAP,CAAmBhF,KAAK,CAAC8E,SAAzB,CAAoCpB,IAApC,CAA0ClB,YAA1C,CAjBoC,CAAtC,CAoBA,GAAM0C,UAAS,CAAG,GAAAxD,oCAAA,EAAkB,SAACgB,KAAD,CAAmB,CACrD1C,KAAK,CAACkF,SAAN,cAAAlF,KAAK,CAACkF,SAAN,CAAkBxC,KAAlB,EACD,CAFiB,CAAlB,CAIA,GAAMyC,UAAS,CAAG,GAAAzD,oCAAA,EAChB,eAAgD,IAA7C0D,KAA6C,OAA7CA,IAA6C,CAAvCC,EAAuC,OAAvCA,EAAuC,IACtCF,UADsC,CAClBnF,KADkB,CACtCmF,SADsC,CAC3BrC,IAD2B,CAClB9C,KADkB,CAC3B8C,IAD2B,CAG9C,GAAMwC,QAAO,iCAAOxC,IAAP,CAAb,CACA,GAAIsC,IAAI,GAAKC,EAAb,CAAiB,CACfC,OAAO,CAACC,MAAR,CAAeH,IAAf,CAAqB,CAArB,EACAE,OAAO,CAACC,MAAR,CAAeF,EAAf,CAAmB,CAAnB,CAAsBvC,IAAI,CAACsC,IAAD,CAA1B,EACD,CAEDD,SAAS,MAAT,QAAAA,SAAS,CAAG,CAAEC,IAAI,CAAJA,IAAF,CAAQC,EAAE,CAAFA,EAAR,CAAYvC,IAAI,CAAEwC,OAAlB,CAAH,CAAT,CACA7D,KAAK,GACN,CAZe,CAAlB,CAeA,GAAM+D,yBAAwB,CAAG,GAAA9D,oCAAA,EAAkB,SAACgB,KAAD,CAAmB,CACpE1C,KAAK,CAACwF,wBAAN,cAAAxF,KAAK,CAACwF,wBAAN,CAAiC9C,KAAjC,EACD,CAFgC,CAAjC,CAKA,GAAA+C,0CAAA,iCACQ,CACJ,MAAOpE,oBAAmB,CAACM,KAA3B,CACD,CAHH,kCAtOON,mBAsOP,0TAIGqE,GAJH,CAIQC,IAJR,CAIiB,CACb,GAAID,GAAG,GAAKC,IAAR,EAAgB,CAACD,GAArB,CAA0B,CACxB,GAAME,SAAQ,CAAG,CAAC,CAAC1E,cAAc,CAACS,KAAlC,CACA,GAAI,CAACiE,QAAD,EAAajF,eAAe,CAACgB,KAAhB,EAAyB,CAAtC,EAA2C,CAACH,QAAQ,CAACG,KAAzD,CAAgE,CAC9D,GAAAkE,8BAAA,EAAQX,SAAR,EAAmBvE,eAAe,CAACgB,KAAnC,EACA,GAAAkE,8BAAA,EAAQV,SAAR,EAAmB,CACjBC,IAAI,CAAEzE,eAAe,CAACgB,KADL,CAEjB0D,EAAE,CAAEtE,eAAe,CAACY,KAFH,CAAnB,EAID,CACF,CACF,CAfH,6BArOqBT,cAqOrB,iBAhOYP,eAgOZ,UAnOkDa,QAmOlD,SAjOIqE,8BAiOJ,WAlOYX,SAkOZ,WAjOYC,SAiOZ,iBA/NUpE,eA+NV,4iBAgBE,CAACM,mBAAD,CAAsB8D,SAAtB,CAAiCD,SAAjC,CAhBF,EAmBA,GAAAO,0CAAA,iCACQ,CACJ,MAAO1E,gBAAe,CAACY,KAAvB,CACD,CAHH,8BAzPOZ,eAyPP,iTAIG2E,GAJH,CAIQC,IAJR,CAIiB,CACb,GAAIA,IAAI,GAAK,IAAT,EAAiBD,GAAG,GAAKC,IAAzB,EAAiCD,GAAG,EAAI,CAAxC,EAA6CC,IAAI,EAAI,CAAzD,CAA4D,CAC1D,GAAAE,8BAAA,EAAQL,wBAAR,EAAkCE,GAAlC,EACD,CACF,CARH,sBAxPEG,8BAwPF,0BAxPUL,wBAwPV,qWASE,CAACzE,eAAD,CATF,EAYA,GAAM+E,gBAAe,CAAG,GAAAC,qCAAA,EAAe,KAAf,CAAxB,CAEA,GAAMC,WAAU,CAAGC,kCAAA,CAAQC,GAAR,GAChBC,OADgB,+BACPC,GADO,CACC,CAChBN,eAAe,CAACnE,KAAhB,CAAwBH,QAAQ,CAACG,KAAjC,CACA,GAAImE,eAAe,CAACnE,KAApB,CAA2B,OAC3BP,eAAe,CAACO,KAAhB,CAAwByE,GAAG,CAACC,KAA5B,CACD,CALgB,8BAtQfP,eAsQe,UAvQKtE,QAuQL,iBArQnBJ,eAqQmB,0XAMhBkF,QANgB,+BAMNF,GANM,CAME,CACjB,GAAIN,eAAe,CAACnE,KAApB,CAA2B,OAC3BP,eAAe,CAACO,KAAhB,CAAwByE,GAAG,CAACC,KAA5B,CACA,GAAME,YAAW,CAAGvF,cAAc,CAACW,KAAf,CAChByE,GAAG,CAACI,YADY,CAEhBJ,GAAG,CAACK,YAFR,CAGAvF,cAAc,CAACS,KAAf,CAAuB4E,WAAvB,CACD,CAbgB,8BAvQfT,eAuQe,iBAtQnB1E,eAsQmB,gBArQCJ,cAqQD,gBApQnBE,cAoQmB,mdAchBwF,KAdgB,+BAcTN,GAdS,CAcD,CACd,GAAIN,eAAe,CAACnE,KAApB,CAA2B,OAE3BN,mBAAmB,CAACM,KAApB,CAA4B,KAA5B,CACA,GAAM4E,YAAW,CAAGvF,cAAc,CAACW,KAAf,CAChByE,GAAG,CAACI,YADY,CAEhBJ,GAAG,CAACK,YAFR,CAIAvF,cAAc,CAACS,KAAf,CAAuB4E,WAAW,CAAGpF,kBAAkB,CAACQ,KAAxD,CACAP,eAAe,CAACO,KAAhB,CAAwByE,GAAG,CAACC,KAA5B,CAGA,GAAI1F,eAAe,CAACgB,KAAhB,GAA0B,CAAC,CAA3B,EAAgCH,QAAQ,CAACG,KAA7C,CAAoD,OACpDH,QAAQ,CAACG,KAAT,CAAiB,IAAjB,CACA,GAAAkE,8BAAA,EAAQX,SAAR,EAAmBvE,eAAe,CAACgB,KAAnC,EACA,GAAMgF,SAAQ,CAAG1F,iBAAiB,CAACU,KAAlB,CAA0BlB,gBAAgB,CAACkB,KAA5D,CACAT,cAAc,CAACS,KAAf,CAAuB,GAAAiF,iCAAA,EACrBD,QADqB,CAErBpG,kBAAkB,CAAC6B,OAFE,gCAGf,CACJ,GAAAyD,8BAAA,EAAQV,SAAR,EAAmB,CACjBC,IAAI,CAAEzE,eAAe,CAACgB,KADL,CAEjB0D,EAAE,CAAEtE,eAAe,CAACY,KAFH,CAAnB,EAIAH,QAAQ,CAACG,KAAT,CAAiB,KAAjB,CACD,CAToB,sBArS3BkE,8BAqS2B,WArSnBV,SAqSmB,iBApSnBxE,eAoSmB,iBAnSrBI,eAmSqB,UAjS3BS,QAiS2B,gYAAvB,CAWD,CAzCgB,8BAvQfsE,eAuQe,qBArQnBzE,mBAqQmB,gBApQCL,cAoQD,gBA5PnBE,cA4PmB,oBAnQkBC,kBAmQlB,iBAlQnBC,eAkQmB,iBA1PTT,eA0PS,UAvPjBa,QAuPiB,SA3PjBqE,8BA2PiB,WA9PXX,SA8PW,mBA7PFjE,iBA6PE,kBA7PwBR,gBA6PxB,YA5PImG,iCA4PJ,6BA5PyBrG,kBAAkB,CAAC6B,OA4P5C,YA3PT+C,SA2PS,iBAzPXpE,eAyPW,4hCA0ChB8F,aA1CgB,gCA0CI,CACnB,GAAAhB,8BAAA,EAAQjB,qBAAR,IACD,CA5CgB,sBAvQnBiB,8BAuQmB,uBAvQXjB,qBAuQW,uSA6ChBkC,WA7CgB,gCA6CE,CAGjB,GAAAjB,8BAAA,EAAQhB,mBAAR,IACD,CAjDgB,sBArQnBgB,8BAqQmB,qBArQXhB,mBAqQW,kSAAnB,CAmDA,GAAIhD,WAAJ,CAAiBmE,UAAU,CAACe,OAAX,CAAmBlF,WAAnB,EACjB,GAAII,sBAAJ,CAA4B,CAC1B,GAAM+E,aAAY,CAAG,CAAC,CAAC/E,sBAAF,CAA0BA,sBAA1B,CAArB,CACA,GAAIjC,KAAK,CAACuE,UAAV,CAAsB,CACpByB,UAAU,CAACiB,aAAX,CAAyBD,YAAzB,EACD,CAFD,IAEO,CACLhB,UAAU,CAACkB,aAAX,CAAyBF,YAAzB,EACD,CACF,CAED,GAAMG,SAAQ,CAAG,GAAAzF,oCAAA,EAAkB,SAACb,YAAD,CAA0B,CAC3Db,KAAK,CAACoH,oBAAN,cAAApH,KAAK,CAACoH,oBAAN,CAA6BvG,YAA7B,EACD,CAFgB,CAAjB,CAIA,GAAMwG,cAAa,CAAG,GAAAC,+CAAA,EACpB,CACEH,QAAQ,+BAAGf,GAAH,CAAW,CACjBvF,YAAY,CAACc,KAAb,CAAqBX,cAAc,CAACW,KAAf,CACjByE,GAAG,CAACmB,aAAJ,CAAkBC,CADD,CAEjBpB,GAAG,CAACmB,aAAJ,CAAkBE,CAFtB,CAGA,GAAA5B,8BAAA,EAAQsB,QAAR,EAAkBtG,YAAY,CAACc,KAA/B,EACD,CALO,2BAzUMd,YAyUN,gBA1USG,cA0UT,SAzUZ6E,8BAyUY,UAzUJsB,QAyUI,4YADV,CADoB,CASpB,CAACnG,cAAD,CAToB,CAAtB,CAYA,GAAA0G,4BAAA,IAEA,GAAMC,uBAAsB,CAAG,GAAAjG,oCAAA,EAE7B,SAACkG,IAAD,CAAU,CACV,GAAMC,gBAAe,CAAGD,IAAI,CAACE,aAAL,CACrBC,MADqB,CACd,SAACtF,IAAD,QAAUA,KAAI,CAACuF,UAAf,EADc,EAErBhF,GAFqB,CAEjB,SAACP,IAAD,QAAUA,KAAI,CAACC,KAAf,EAFiB,EAGrBqF,MAHqB,CAGd,SAACrF,KAAD,QAA4B,OAAOA,MAAP,GAAiB,QAA7C,EAHc,CAAxB,CAKA,GAAMuF,IAAG,CAAGC,IAAI,CAACD,GAAL,OAAAC,IAAI,iCAAQL,eAAR,EAAhB,CACA,GAAMM,IAAG,CAAGD,IAAI,CAACC,GAAL,OAAAD,IAAI,iCAAQL,eAAR,EAAhB,CACAvG,gBAAgB,CAACK,KAAjB,CAAyBsG,GAAzB,CACA1G,gBAAgB,CAACI,KAAjB,CAAyBwG,GAAzB,CACAnI,KAAK,CAAC2H,sBAAN,cAAA3H,KAAK,CAAC2H,sBAAN,CAA+BC,IAA/B,EACD,CAb8B,CAA/B,CAeA,MACE,8BAAC,iCAAD,EACE,SAAS,CAAEzF,SADb,CAEE,YAAY,CAAEK,YAFhB,CAGE,UAAU,CAAE,CAAC,CAACxC,KAAK,CAACuE,UAHtB,CAIE,uBAAuB,CAAEjC,uBAJ3B,6EAME,6BAAC,0CAAD,EAAiB,OAAO,CAAE0D,UAA1B,6EACE,6BAAC,8BAAD,CAAU,IAAV,EACE,KAAK,CAAEhG,KAAK,CAACoI,cADf,CAEE,GAAG,CAAEjI,YAFP,CAGE,QAAQ,CAAE+D,iBAHZ,6EAKGlE,KAAK,CAACqI,iBAAN,EACC,6BAAC,wBAAD,EAAiB,iBAAiB,CAAErI,KAAK,CAACqI,iBAA1C,8EANJ,CAQE,6BAAC,gBAAD,0BACMrI,KADN,EAEE,IAAI,CAAEA,KAAK,CAAC8C,IAFd,CAGE,sBAAsB,CAAE6E,sBAH1B,CAIE,qBAAqB,CAAEW,8BAJzB,CAKE,GAAG,CAAElI,WALP,CAME,mBAAmB,CAAEoE,uBANvB,CAOE,aAAa,CAAE,CAACrC,SAAD,EAAcJ,aAP/B,CAQE,UAAU,CAAEiD,UARd,CASE,SAAS,CAAEF,SATb,CAUE,YAAY,CAAEtC,YAVhB,CAWE,QAAQ,CAAE6E,aAXZ,CAYE,mBAAmB,CAAE,EAZvB,CAaE,oBAAoB,CAAErH,KAAK,CAACuI,oBAb9B,CAcE,qBAAqB,CAAE,KAdzB,+EARF,CAwBG,CAAC,CAACvI,KAAK,CAACoH,oBAAR,EACC,6BAAC,6BAAD,EACE,oBAAoB,CAAEpH,KAAK,CAACoH,oBAD9B,CAEE,YAAY,CAAEvG,YAFhB,8EAzBJ,CADF,CANF,CADF,CA0CD,CAED,QAAS2H,kBAAT,CACExI,KADF,CAEEyI,GAFF,CAGE,CACA,MACE,8BAAC,qBAAD,0BAAmBzI,KAAnB,+EACE,6BAAC,6BAAD,8EACE,6BAAC,mBAAD,EAAa,WAAW,CAAEyI,GAA1B,6EACE,6BAAC,aAAD,0BAAmBzI,KAAnB,gFADF,CADF,CADF,CADF,CASD,CAED,GAAM0I,cAAa,CAAG,GAAAC,gBAAA,EAAU5I,sBAAV,CAAtB,C,aAIe6I,cAAA,CAAMC,UAAN,CAAiBL,iBAAjB,C"}
\ No newline at end of file
+{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeGestureHandler","_reactNativeReanimated","_CellRendererComponent","_interopRequireDefault","_constants","_PlaceholderItem","_RowItem","_propsContext","_animatedValueContext","_refContext","_draggableFlatListContext","_useAutoScroll","_useStableCallback","_ScrollOffsetListener","_utils","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AnimatedFlatList","Animated","createAnimatedComponent","FlatList","DraggableFlatListInner","props","_this","_useRefs","useRefs","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","_useAnimatedValues","useAnimatedValues","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","useStableCallback","value","setActiveKey","_props$dragHitSlop","dragHitSlop","DEFAULT_PROPS","_props$scrollEnabled","scrollEnabled","_props$activationDist","activationDistance","activationDistanceProp","_useState","useState","_useState2","_slicedToArray2","activeKey","_useState3","current","enableLayoutAnimationExperimental","_useState4","layoutAnimationDisabled","setLayoutAnimationDisabled","keyExtractor","item","index","Error","dataRef","useRef","data","dataHasChanged","map","join","useEffect","setTimeout","useLayoutEffect","forEach","d","key","drag","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","_ref","layout","nativeEvent","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","useMemo","renderItem","useCallback","_ref2","createElement","itemKey","__self","__source","fileName","lineNumber","columnNumber","onRelease","onDragEnd","_ref3","from","to","newData","_toConsumableArray2","splice","onPlaceholderIndexChange","useAnimatedReaction","_f","_closure","asString","__workletHash","__location","cur","prev","hasMoved","runOnJS","gestureDisabled","useSharedValue","panGesture","Gesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","withSpring","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","useAnimatedScrollHandler","contentOffset","x","y","useAutoScroll","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","apply","max","renderCellRenderComponent","cellProps","_extends2","layoutKey","GestureDetector","gesture","View","style","containerStyle","ref","onLayout","renderPlaceholder","CellRendererComponent","scrollEventThrottle","simultaneousHandlers","removeClippedSubviews","DraggableFlatList","flatListRef","MemoizedInner","typedMemo","_default","exports","React","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      setTimeout(reset, 100);\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset: [number, number] = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  const renderCellRenderComponent = useStableCallback((cellProps) => {\n   return <CellRendererComponent {...cellProps} layoutKey={props.layoutKey} />\n  })\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={renderCellRenderComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js b/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js
index dc87bf6..e1eb92d 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js
@@ -4,11 +4,10 @@ import Animated, { interpolate, useAnimatedStyle } from "react-native-reanimated
 import { useDraggableFlatListContext } from "../context/draggableFlatListContext";
 export { useOnCellActiveAnimation } from "../hooks/useOnCellActiveAnimation";
 import { useOnCellActiveAnimation } from "../hooks/useOnCellActiveAnimation";
-export const ScaleDecorator = _ref => {
-  let {
-    activeScale = 1.1,
-    children
-  } = _ref;
+export const ScaleDecorator = ({
+  activeScale = 1.1,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
@@ -36,14 +35,13 @@ export const ScaleDecorator = _ref => {
     style: [style, horizontal && styles.horizontal]
   }, children);
 };
-export const ShadowDecorator = _ref2 => {
-  let {
-    elevation = 10,
-    color = "black",
-    opacity = 0.25,
-    radius = 5,
-    children
-  } = _ref2;
+export const ShadowDecorator = ({
+  elevation = 10,
+  color = "black",
+  opacity = 0.25,
+  radius = 5,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
@@ -57,18 +55,18 @@ export const ShadowDecorator = _ref2 => {
       elevation: isActive ? elevation : 0,
       shadowRadius: isActive ? radius : 0,
       shadowColor: isActive ? color : "transparent",
-      shadowOpacity: isActive ? shadowOpacity : 0
+      shadowOpacity: isActive ? shadowOpacity : 0,
+      boxShadow: `rgba(0, 0, 0, ${shadowOpacity}) 0px 0px 20px`
     };
   }, [isActive, onActiveAnim]);
   return /*#__PURE__*/React.createElement(Animated.View, {
     style: [style, horizontal && styles.horizontal]
   }, children);
 };
-export const OpacityDecorator = _ref3 => {
-  let {
-    activeOpacity = 0.25,
-    children
-  } = _ref3;
+export const OpacityDecorator = ({
+  activeOpacity = 0.25,
+  children
+}) => {
   const {
     isActive,
     onActiveAnim
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js.map b/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js.map
index 1e2d62c..6f132b8 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/CellDecorators.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","StyleSheet","Animated","interpolate","useAnimatedStyle","useDraggableFlatListContext","useOnCellActiveAnimation","ScaleDecorator","activeScale","children","isActive","onActiveAnim","animationConfig","mass","restDisplacementThreshold","horizontal","style","animScale","value","scale","transform","scaleX","scaleY","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","OpacityDecorator","activeOpacity","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","StyleSheet","Animated","interpolate","useAnimatedStyle","useDraggableFlatListContext","useOnCellActiveAnimation","ScaleDecorator","activeScale","children","isActive","onActiveAnim","animationConfig","mass","restDisplacementThreshold","horizontal","style","animScale","value","scale","transform","scaleX","scaleY","createElement","View","styles","ShadowDecorator","elevation","color","opacity","radius","shadowOpacity","shadowRadius","shadowColor","boxShadow","OpacityDecorator","activeOpacity","create","flexDirection","flex"],"sources":["CellDecorators.tsx"],"sourcesContent":["import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  interpolate,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nexport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\nimport { useOnCellActiveAnimation } from \"../hooks/useOnCellActiveAnimation\";\n\ntype ScaleProps = {\n  activeScale?: number;\n  children: React.ReactNode;\n};\n\nexport const ScaleDecorator = ({ activeScale = 1.1, children }: ScaleProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation({\n    animationConfig: { mass: 0.1, restDisplacementThreshold: 0.0001 },\n  });\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const animScale = interpolate(onActiveAnim.value, [0, 1], [1, activeScale]);\n    const scale = isActive ? animScale : 1;\n    return {\n      transform: [{ scaleX: scale }, { scaleY: scale }],\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype ShadowProps = {\n  children: React.ReactNode;\n  elevation?: number;\n  radius?: number;\n  color?: string;\n  opacity?: number;\n};\n\nexport const ShadowDecorator = ({\n  elevation = 10,\n  color = \"black\",\n  opacity = 0.25,\n  radius = 5,\n  children,\n}: ShadowProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n\n  const style = useAnimatedStyle(() => {\n    const shadowOpacity = onActiveAnim.value * opacity;\n    return {\n      elevation: isActive ? elevation : 0,\n      shadowRadius: isActive ? radius : 0,\n      shadowColor: isActive ? color : \"transparent\",\n      shadowOpacity: isActive ? shadowOpacity : 0,\n      boxShadow: `rgba(0, 0, 0, ${shadowOpacity}) 0px 0px 20px`,\n    };\n  }, [isActive, onActiveAnim]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\ntype OpacityProps = {\n  activeOpacity?: number;\n  children: React.ReactNode;\n};\n\nexport const OpacityDecorator = ({\n  activeOpacity = 0.25,\n  children,\n}: OpacityProps) => {\n  const { isActive, onActiveAnim } = useOnCellActiveAnimation();\n  const { horizontal } = useDraggableFlatListContext<any>();\n  const style = useAnimatedStyle(() => {\n    const opacity = interpolate(onActiveAnim.value, [0, 1], [1, activeOpacity]);\n    return {\n      opacity: isActive ? opacity : 1,\n    };\n  }, [isActive]);\n\n  return (\n    <Animated.View style={[style, horizontal && styles.horizontal]}>\n      {children}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  horizontal: {\n    flexDirection: \"row\",\n    flex: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js b/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js
index 730171f..e0c2cf0 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js
@@ -1,5 +1,4 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React, { useEffect, useMemo, useRef } from "react";
 import { findNodeHandle, StyleSheet } from "react-native";
 import Animated, { runOnUI, useAnimatedStyle, useSharedValue } from "react-native-reanimated";
@@ -11,13 +10,13 @@ import { useRefs } from "../context/refContext";
 import { useAnimatedValues } from "../context/animatedValueContext";
 import CellProvider from "../context/cellContext";
 import { useStableCallback } from "../hooks/useStableCallback";
-
 function CellRendererComponent(props) {
   const {
     item,
     index,
     onLayout,
     children,
+    layoutKey,
     ...rest
   } = props;
   const viewRef = useRef(null);
@@ -54,7 +53,6 @@ function CellRendererComponent(props) {
     if (translate.value && !isWeb) {
       heldTanslate.value = translate.value;
     }
-
     const t = activeKey ? translate.value : heldTanslate.value;
     return {
       transform: [horizontalAnim.value ? {
@@ -66,6 +64,7 @@ function CellRendererComponent(props) {
   }, [translate, activeKey]);
   const updateCellMeasurements = useStableCallback(() => {
     const onSuccess = (x, y, w, h) => {
+      console.log(x, y, w, h);
       if (isWeb && horizontal) x += scrollOffset.value;
       const cellOffset = horizontal ? x : y;
       const cellSize = horizontal ? w : h;
@@ -78,19 +77,15 @@ function CellRendererComponent(props) {
       size.value = cellSize;
       offset.value = cellOffset;
     };
-
     const onFail = () => {
       var _propsRef$current;
-
       if ((_propsRef$current = propsRef.current) !== null && _propsRef$current !== void 0 && _propsRef$current.debug) {
         console.log(`## on measure fail, index: ${index}`);
       }
     };
-
     const containerNode = containerRef.current;
     const viewNode = viewRef.current;
     const nodeHandle = containerNode;
-
     if (viewNode && nodeHandle) {
       //@ts-ignore
       viewNode.measureLayout(nodeHandle, onSuccess, onFail);
@@ -109,6 +104,15 @@ function CellRendererComponent(props) {
       });
     }
   }, [index, onCellLayout]);
+  const lastLayoutKey = useRef(layoutKey);
+  useEffect(() => {
+    if (lastLayoutKey.current !== layoutKey) {
+      requestAnimationFrame(() => {
+        onCellLayout();
+      });
+      lastLayoutKey.current = layoutKey;
+    }
+  }, [layoutKey]);
   const baseStyle = useMemo(() => {
     return {
       elevation: isActive ? 1 : 0,
@@ -136,7 +140,6 @@ function CellRendererComponent(props) {
       const config = global.LayoutAnimationRepository.configs[t];
       if (config) stashConfig(t, config);
       const stashedConfig = getStashedConfig(t);
-
       if (_layoutDisabled) {
         global.LayoutAnimationRepository.removeConfig(t);
       } else if (stashedConfig) {
@@ -156,7 +159,6 @@ function CellRendererComponent(props) {
     isActive: isActive
   }, children));
 }
-
 export default typedMemo(CellRendererComponent);
 const styles = StyleSheet.create({
   zeroTranslate: {
@@ -172,14 +174,12 @@ runOnUI(() => {
 
   global.RNDFLLayoutAnimationConfigStash = {};
 })();
-
 function stashConfig(tag, config) {
   "worklet";
 
   if (!global.RNDFLLayoutAnimationConfigStash) global.RNDFLLayoutAnimationConfigStash = {};
   global.RNDFLLayoutAnimationConfigStash[tag] = config;
 }
-
 function getStashedConfig(tag) {
   "worklet";
 
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js.map b/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js.map
index a41dc61..f1fa49f 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/CellRendererComponent.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useEffect","useMemo","useRef","findNodeHandle","StyleSheet","Animated","runOnUI","useAnimatedStyle","useSharedValue","useDraggableFlatListContext","isWeb","useCellTranslate","typedMemo","useRefs","useAnimatedValues","CellProvider","useStableCallback","CellRendererComponent","props","item","index","onLayout","children","rest","viewRef","cellDataRef","propsRef","containerRef","horizontalAnim","scrollOffset","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","size","heldTanslate","translate","cellOffset","cellSize","cellIndex","isActive","animStyle","value","t","transform","translateX","translateY","updateCellMeasurements","onSuccess","x","y","w","h","current","set","measurements","onFail","debug","console","log","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","requestAnimationFrame","baseStyle","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","undefined","style","styles","zeroTranslate","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useEffect","useMemo","useRef","findNodeHandle","StyleSheet","Animated","runOnUI","useAnimatedStyle","useSharedValue","useDraggableFlatListContext","isWeb","useCellTranslate","typedMemo","useRefs","useAnimatedValues","CellProvider","useStableCallback","CellRendererComponent","props","item","index","onLayout","children","layoutKey","rest","viewRef","cellDataRef","propsRef","containerRef","horizontalAnim","scrollOffset","activeKey","keyExtractor","horizontal","layoutAnimationDisabled","key","offset","size","heldTanslate","translate","cellOffset","cellSize","cellIndex","isActive","animStyle","value","t","transform","translateX","translateY","updateCellMeasurements","onSuccess","x","y","w","h","console","log","current","set","measurements","onFail","_propsRef$current","debug","containerNode","viewNode","nodeHandle","measureLayout","onCellLayout","e","requestAnimationFrame","lastLayoutKey","baseStyle","elevation","zIndex","flexDirection","itemEnteringAnimation","itemExitingAnimation","itemLayoutAnimation","enableLayoutAnimationExperimental","tag","_layoutDisabled","config","global","LayoutAnimationRepository","configs","stashConfig","stashedConfig","getStashedConfig","removeConfig","registerConfig","createElement","View","_extends","ref","entering","exiting","layout","undefined","style","styles","zeroTranslate","pointerEvents","create","RNDFLLayoutAnimationConfigStash"],"sources":["CellRendererComponent.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  MeasureLayoutOnSuccessCallback,\n  StyleProp,\n  StyleSheet,\n  ViewStyle,\n} from \"react-native\";\nimport Animated, {\n  runOnUI,\n  useAnimatedStyle,\n  useSharedValue,\n} from \"react-native-reanimated\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { isWeb } from \"../constants\";\nimport { useCellTranslate } from \"../hooks/useCellTranslate\";\nimport { typedMemo } from \"../utils\";\nimport { useRefs } from \"../context/refContext\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport CellProvider from \"../context/cellContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\ntype Props<T> = {\n  item: T;\n  index: number;\n  children: React.ReactNode;\n  onLayout?: (e: LayoutChangeEvent) => void;\n  style?: StyleProp<ViewStyle>;\n  layoutKey: string\n};\n\nfunction CellRendererComponent<T>(props: Props<T>) {\n  const { item, index, onLayout, children, layoutKey, ...rest } = props;\n\n  const viewRef = useRef<Animated.View>(null);\n  const { cellDataRef, propsRef, containerRef } = useRefs<T>();\n\n  const { horizontalAnim, scrollOffset } = useAnimatedValues();\n  const {\n    activeKey,\n    keyExtractor,\n    horizontal,\n    layoutAnimationDisabled,\n  } = useDraggableFlatListContext<T>();\n\n  const key = keyExtractor(item, index);\n  const offset = useSharedValue(-1);\n  const size = useSharedValue(-1);\n  const heldTanslate = useSharedValue(0);\n\n  const translate = useCellTranslate({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: index,\n  });\n\n  const isActive = activeKey === key;\n\n  const animStyle = useAnimatedStyle(() => {\n    // When activeKey becomes null at the end of a drag and the list reorders,\n    // the animated style may apply before the next paint, causing a flicker.\n    // Solution is to hold over the last animated value until the next onLayout.\n    // (Not required in web)\n    if (translate.value && !isWeb) {\n      heldTanslate.value = translate.value;\n    }\n    const t = activeKey ? translate.value : heldTanslate.value;\n    return {\n      transform: [horizontalAnim.value ? { translateX: t } : { translateY: t }],\n    };\n  }, [translate, activeKey]);\n\n  const updateCellMeasurements = useStableCallback(() => {\n    const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {\n      console.log(x, y, w, h);\n      if (isWeb && horizontal) x += scrollOffset.value;\n      const cellOffset = horizontal ? x : y;\n      const cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: { size: cellSize, offset: cellOffset },\n      });\n\n      size.value = cellSize;\n      offset.value = cellOffset;\n    };\n\n    const onFail = () => {\n      if (propsRef.current?.debug) {\n        console.log(`## on measure fail, index: ${index}`);\n      }\n    };\n\n    const containerNode = containerRef.current;\n    const viewNode = viewRef.current;\n    const nodeHandle = containerNode;\n\n    if (viewNode && nodeHandle) {\n      //@ts-ignore\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  });\n\n  const onCellLayout = useStableCallback((e?: LayoutChangeEvent) => {\n    heldTanslate.value = 0;\n    updateCellMeasurements();\n    if (onLayout && e) onLayout(e);\n  });\n\n  useEffect(() => {\n    if (isWeb) {\n      // onLayout isn't called on web when the cell index changes, so we manually re-measure\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n    }\n  }, [index, onCellLayout]);\n\n  const lastLayoutKey = useRef(layoutKey)\n  useEffect(() => {\n    if(lastLayoutKey.current !== layoutKey) {\n      requestAnimationFrame(() => {\n        onCellLayout();\n      });\n      lastLayoutKey.current =layoutKey\n    }\n  }, [layoutKey])\n\n  const baseStyle = useMemo(() => {\n    return {\n      elevation: isActive ? 1 : 0,\n      zIndex: isActive ? 999 : 0,\n      flexDirection: horizontal ? (\"row\" as const) : (\"column\" as const),\n    };\n  }, [isActive, horizontal]);\n\n  const {\n    itemEnteringAnimation,\n    itemExitingAnimation,\n    itemLayoutAnimation,\n  } = propsRef.current;\n\n  useEffect(() => {\n    // NOTE: Keep an eye on reanimated LayoutAnimation refactor:\n    // https://github.com/software-mansion/react-native-reanimated/pull/3332/files\n    // We might have to change the way we register/unregister LayouAnimations:\n    // - get native module: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L18\n    // - register layout animation for tag: https://github.com/software-mansion/react-native-reanimated/blob/cf59766460d05eb30357913455318d8a95909468/src/reanimated2/NativeReanimated/NativeReanimated.ts#L99\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    const tag = findNodeHandle(viewRef.current);\n\n    runOnUI((t: number | null, _layoutDisabled) => {\n      \"worklet\";\n      if (!t) return;\n      const config = global.LayoutAnimationRepository.configs[t];\n      if (config) stashConfig(t, config);\n      const stashedConfig = getStashedConfig(t);\n      if (_layoutDisabled) {\n        global.LayoutAnimationRepository.removeConfig(t);\n      } else if (stashedConfig) {\n        global.LayoutAnimationRepository.registerConfig(t, stashedConfig);\n      }\n    })(tag, layoutAnimationDisabled);\n  }, [layoutAnimationDisabled]);\n\n  return (\n    <Animated.View\n      {...rest}\n      ref={viewRef}\n      onLayout={onCellLayout}\n      entering={itemEnteringAnimation}\n      exiting={itemExitingAnimation}\n      layout={\n        propsRef.current.enableLayoutAnimationExperimental\n          ? itemLayoutAnimation\n          : undefined\n      }\n      style={[\n        props.style,\n        baseStyle,\n        activeKey ? animStyle : styles.zeroTranslate,\n      ]}\n      pointerEvents={activeKey ? \"none\" : \"auto\"}\n    >\n      <CellProvider isActive={isActive}>{children}</CellProvider>\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(CellRendererComponent);\n\nconst styles = StyleSheet.create({\n  zeroTranslate: {\n    transform: [{ translateX: 0 }, { translateY: 0 }],\n  },\n});\n\ndeclare global {\n  namespace NodeJS {\n    interface Global {\n      RNDFLLayoutAnimationConfigStash: Record<string, unknown>;\n    }\n  }\n}\n\nrunOnUI(() => {\n  \"worklet\";\n  global.RNDFLLayoutAnimationConfigStash = {};\n})();\n\nfunction stashConfig(tag: number, config: unknown) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash)\n    global.RNDFLLayoutAnimationConfigStash = {};\n  global.RNDFLLayoutAnimationConfigStash[tag] = config;\n}\n\nfunction getStashedConfig(tag: number) {\n  \"worklet\";\n  if (!global.RNDFLLayoutAnimationConfigStash) return null;\n  return global.RNDFLLayoutAnimationConfigStash[tag] as Record<string, unknown>;\n}\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js b/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js
index 50b1d13..ab5feeb 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js
@@ -1,5 +1,4 @@
-function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
-
+function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
 import React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from "react";
 import { FlatList, Gesture, GestureDetector } from "react-native-gesture-handler";
 import Animated, { runOnJS, useAnimatedReaction, useAnimatedScrollHandler, useSharedValue, withSpring } from "react-native-reanimated";
@@ -16,7 +15,6 @@ import { useStableCallback } from "../hooks/useStableCallback";
 import ScrollOffsetListener from "./ScrollOffsetListener";
 import { typedMemo } from "../utils";
 const AnimatedFlatList = Animated.createAnimatedComponent(FlatList);
-
 function DraggableFlatListInner(props) {
   const {
     cellDataRef,
@@ -63,21 +61,17 @@ function DraggableFlatListInner(props) {
     if (!props.keyExtractor) {
       throw new Error("You must provide a keyExtractor to DraggableFlatList");
     }
-
     return props.keyExtractor(item, index);
   });
   const dataRef = useRef(props.data);
   const dataHasChanged = dataRef.current.map(keyExtractor).join("") !== props.data.map(keyExtractor).join("");
   dataRef.current = props.data;
-
   if (dataHasChanged) {
     // When data changes make sure `activeKey` is nulled out in the same render pass
     activeKey = null;
   }
-
   useEffect(() => {
     if (!propsRef.current.enableLayoutAnimationExperimental) return;
-
     if (activeKey) {
       setLayoutAnimationDisabled(true);
     } else {
@@ -98,16 +92,13 @@ function DraggableFlatListInner(props) {
     if (disabled.value) return;
     const index = keyToIndexRef.current.get(activeKey);
     const cellData = cellDataRef.current.get(activeKey);
-
     if (cellData) {
       activeCellOffset.value = cellData.measurements.offset;
       activeCellSize.value = cellData.measurements.size;
     }
-
     const {
       onDragBegin
     } = propsRef.current;
-
     if (index !== undefined) {
       spacerIndexAnim.value = index;
       activeIndexAnim.value = index;
@@ -115,15 +106,12 @@ function DraggableFlatListInner(props) {
       onDragBegin === null || onDragBegin === void 0 ? void 0 : onDragBegin(index);
     }
   });
-
-  const onContainerLayout = _ref => {
+  const onContainerLayout = ({
+    nativeEvent: {
+      layout
+    }
+  }) => {
     var _props$onContainerLay;
-
-    let {
-      nativeEvent: {
-        layout
-      }
-    } = _ref;
     const {
       width,
       height
@@ -134,41 +122,32 @@ function DraggableFlatListInner(props) {
       containerRef
     });
   };
-
   const onListContentSizeChange = (w, h) => {
     var _props$onContentSizeC;
-
     scrollViewSize.value = props.horizontal ? w : h;
     (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 ? void 0 : _props$onContentSizeC.call(props, w, h);
   };
-
   const onContainerTouchStart = () => {
     if (!disabled.value) {
       isTouchActiveNative.value = true;
     }
-
     return false;
   };
-
   const onContainerTouchEnd = () => {
     isTouchActiveNative.value = false;
   };
-
   const extraData = useMemo(() => ({
     activeKey,
     extraData: props.extraData
   }), [activeKey, props.extraData]);
-  const renderItem = useCallback(_ref2 => {
-    let {
-      item,
-      index
-    } = _ref2;
+  const renderItem = useCallback(({
+    item,
+    index
+  }) => {
     const key = keyExtractor(item, index);
-
     if (index !== keyToIndexRef.current.get(key)) {
       keyToIndexRef.current.set(key, index);
     }
-
     return /*#__PURE__*/React.createElement(RowItem, {
       item: item,
       itemKey: key,
@@ -179,44 +158,39 @@ function DraggableFlatListInner(props) {
   }, [props.renderItem, props.extraData, drag, keyExtractor]);
   const onRelease = useStableCallback(index => {
     var _props$onRelease;
-
     (_props$onRelease = props.onRelease) === null || _props$onRelease === void 0 ? void 0 : _props$onRelease.call(props, index);
   });
-  const onDragEnd = useStableCallback(_ref3 => {
-    let {
-      from,
-      to
-    } = _ref3;
+  const onDragEnd = useStableCallback(({
+    from,
+    to
+  }) => {
     const {
       onDragEnd,
       data
     } = props;
     const newData = [...data];
-
     if (from !== to) {
       newData.splice(from, 1);
       newData.splice(to, 0, data[from]);
     }
-
     onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd({
       from,
       to,
       data: newData
     });
-    reset();
+    setTimeout(reset, 100);
   });
   const onPlaceholderIndexChange = useStableCallback(index => {
     var _props$onPlaceholderI;
-
     (_props$onPlaceholderI = props.onPlaceholderIndexChange) === null || _props$onPlaceholderI === void 0 ? void 0 : _props$onPlaceholderI.call(props, index);
-  }); // Handle case where user ends drag without moving their finger.
+  });
 
+  // Handle case where user ends drag without moving their finger.
   useAnimatedReaction(() => {
     return isTouchActiveNative.value;
   }, (cur, prev) => {
     if (cur !== prev && !cur) {
       const hasMoved = !!touchTranslate.value;
-
       if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {
         runOnJS(onRelease)(activeIndexAnim.value);
         runOnJS(onDragEnd)({
@@ -244,13 +218,14 @@ function DraggableFlatListInner(props) {
     const translation = horizontalAnim.value ? evt.translationX : evt.translationY;
     touchTranslate.value = translation;
   }).onEnd(evt => {
-    if (gestureDisabled.value) return; // Set touch val to current translate val
-
+    if (gestureDisabled.value) return;
+    // Set touch val to current translate val
     isTouchActiveNative.value = false;
     const translation = horizontalAnim.value ? evt.translationX : evt.translationY;
     touchTranslate.value = translation + autoScrollDistance.value;
-    panGestureState.value = evt.state; // Only call onDragEnd if actually dragging a cell
+    panGestureState.value = evt.state;
 
+    // Only call onDragEnd if actually dragging a cell
     if (activeIndexAnim.value === -1 || disabled.value) return;
     disabled.value = true;
     runOnJS(onRelease)(activeIndexAnim.value);
@@ -270,20 +245,16 @@ function DraggableFlatListInner(props) {
     runOnJS(onContainerTouchEnd)();
   });
   if (dragHitSlop) panGesture.hitSlop(dragHitSlop);
-
   if (activationDistanceProp) {
     const activeOffset = [-activationDistanceProp, activationDistanceProp];
-
     if (props.horizontal) {
       panGesture.activeOffsetX(activeOffset);
     } else {
       panGesture.activeOffsetY(activeOffset);
     }
   }
-
   const onScroll = useStableCallback(scrollOffset => {
     var _props$onScrollOffset;
-
     (_props$onScrollOffset = props.onScrollOffsetChange) === null || _props$onScrollOffset === void 0 ? void 0 : _props$onScrollOffset.call(props, scrollOffset);
   });
   const scrollHandler = useAnimatedScrollHandler({
@@ -295,7 +266,6 @@ function DraggableFlatListInner(props) {
   useAutoScroll();
   const onViewableItemsChanged = useStableCallback(info => {
     var _props$onViewableItem;
-
     const viewableIndices = info.viewableItems.filter(item => item.isViewable).map(item => item.index).filter(index => typeof index === "number");
     const min = Math.min(...viewableIndices);
     const max = Math.max(...viewableIndices);
@@ -303,6 +273,11 @@ function DraggableFlatListInner(props) {
     viewableIndexMax.value = max;
     (_props$onViewableItem = props.onViewableItemsChanged) === null || _props$onViewableItem === void 0 ? void 0 : _props$onViewableItem.call(props, info);
   });
+  const renderCellRenderComponent = useStableCallback(cellProps => {
+    return /*#__PURE__*/React.createElement(CellRendererComponent, _extends({}, cellProps, {
+      layoutKey: props.layoutKey
+    }));
+  });
   return /*#__PURE__*/React.createElement(DraggableFlatListProvider, {
     activeKey: activeKey,
     keyExtractor: keyExtractor,
@@ -319,7 +294,7 @@ function DraggableFlatListInner(props) {
   }), /*#__PURE__*/React.createElement(AnimatedFlatList, _extends({}, props, {
     data: props.data,
     onViewableItemsChanged: onViewableItemsChanged,
-    CellRendererComponent: CellRendererComponent,
+    CellRendererComponent: renderCellRenderComponent,
     ref: flatlistRef,
     onContentSizeChange: onListContentSizeChange,
     scrollEnabled: !activeKey && scrollEnabled,
@@ -335,15 +310,14 @@ function DraggableFlatListInner(props) {
     scrollOffset: scrollOffset
   }))));
 }
-
 function DraggableFlatList(props, ref) {
   return /*#__PURE__*/React.createElement(PropsProvider, props, /*#__PURE__*/React.createElement(AnimatedValueProvider, null, /*#__PURE__*/React.createElement(RefProvider, {
     flatListRef: ref
   }, /*#__PURE__*/React.createElement(MemoizedInner, props))));
 }
+const MemoizedInner = typedMemo(DraggableFlatListInner);
 
-const MemoizedInner = typedMemo(DraggableFlatListInner); // Generic forwarded ref type assertion taken from:
+// Generic forwarded ref type assertion taken from:
 // https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion
-
 export default /*#__PURE__*/React.forwardRef(DraggableFlatList);
 //# sourceMappingURL=DraggableFlatList.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js.map b/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js.map
index 2ccc44f..f73119c 100644
--- a/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js.map
+++ b/node_modules/react-native-draggable-flatlist/lib/module/components/DraggableFlatList.js.map
@@ -1 +1 @@
-{"version":3,"names":["React","useCallback","useEffect","useLayoutEffect","useMemo","useRef","useState","FlatList","Gesture","GestureDetector","Animated","runOnJS","useAnimatedReaction","useAnimatedScrollHandler","useSharedValue","withSpring","CellRendererComponent","DEFAULT_PROPS","PlaceholderItem","RowItem","PropsProvider","AnimatedValueProvider","useAnimatedValues","RefProvider","useRefs","DraggableFlatListProvider","useAutoScroll","useStableCallback","ScrollOffsetListener","typedMemo","AnimatedFlatList","createAnimatedComponent","DraggableFlatListInner","props","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","value","setActiveKey","dragHitSlop","scrollEnabled","activationDistance","activationDistanceProp","activeKey","layoutAnimationDisabled","setLayoutAnimationDisabled","current","enableLayoutAnimationExperimental","keyExtractor","item","index","Error","dataRef","data","dataHasChanged","map","join","setTimeout","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","nativeEvent","layout","width","height","horizontal","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","renderItem","onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","cur","prev","hasMoved","gestureDisabled","panGesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","onScrollOffsetChange","scrollHandler","contentOffset","x","y","onViewableItemsChanged","info","viewableIndices","viewableItems","filter","isViewable","min","Math","max","containerStyle","renderPlaceholder","simultaneousHandlers","DraggableFlatList","ref","MemoizedInner","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      reset();\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={CellRendererComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"names":["React","useCallback","useEffect","useLayoutEffect","useMemo","useRef","useState","FlatList","Gesture","GestureDetector","Animated","runOnJS","useAnimatedReaction","useAnimatedScrollHandler","useSharedValue","withSpring","CellRendererComponent","DEFAULT_PROPS","PlaceholderItem","RowItem","PropsProvider","AnimatedValueProvider","useAnimatedValues","RefProvider","useRefs","DraggableFlatListProvider","useAutoScroll","useStableCallback","ScrollOffsetListener","typedMemo","AnimatedFlatList","createAnimatedComponent","DraggableFlatListInner","props","cellDataRef","containerRef","flatlistRef","keyToIndexRef","propsRef","animationConfigRef","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","scrollOffset","scrollViewSize","spacerIndexAnim","horizontalAnim","placeholderOffset","touchTranslate","autoScrollDistance","panGestureState","isTouchActiveNative","viewableIndexMin","viewableIndexMax","disabled","reset","value","setActiveKey","dragHitSlop","scrollEnabled","activationDistance","activationDistanceProp","activeKey","layoutAnimationDisabled","setLayoutAnimationDisabled","current","enableLayoutAnimationExperimental","keyExtractor","item","index","Error","dataRef","data","dataHasChanged","map","join","setTimeout","forEach","d","i","key","set","drag","get","cellData","measurements","offset","size","onDragBegin","undefined","onContainerLayout","nativeEvent","layout","_props$onContainerLay","width","height","horizontal","call","onListContentSizeChange","w","h","_props$onContentSizeC","onContentSizeChange","onContainerTouchStart","onContainerTouchEnd","extraData","renderItem","createElement","itemKey","onRelease","_props$onRelease","onDragEnd","from","to","newData","splice","onPlaceholderIndexChange","_props$onPlaceholderI","cur","prev","hasMoved","gestureDisabled","panGesture","Pan","onBegin","evt","state","onUpdate","translation","translationX","translationY","onEnd","springTo","onTouchesDown","onTouchesUp","hitSlop","activeOffset","activeOffsetX","activeOffsetY","onScroll","_props$onScrollOffset","onScrollOffsetChange","scrollHandler","contentOffset","x","y","onViewableItemsChanged","info","_props$onViewableItem","viewableIndices","viewableItems","filter","isViewable","min","Math","max","renderCellRenderComponent","cellProps","_extends","layoutKey","gesture","View","style","containerStyle","ref","onLayout","renderPlaceholder","scrollEventThrottle","simultaneousHandlers","removeClippedSubviews","DraggableFlatList","flatListRef","MemoizedInner","forwardRef"],"sources":["DraggableFlatList.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { ListRenderItem, FlatListProps, LayoutChangeEvent } from \"react-native\";\nimport {\n  FlatList,\n  Gesture,\n  GestureDetector,\n} from \"react-native-gesture-handler\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withSpring,\n} from \"react-native-reanimated\";\nimport CellRendererComponent from \"./CellRendererComponent\";\nimport { DEFAULT_PROPS, isWeb } from \"../constants\";\nimport PlaceholderItem from \"./PlaceholderItem\";\nimport RowItem from \"./RowItem\";\nimport { DraggableFlatListProps } from \"../types\";\nimport PropsProvider from \"../context/propsContext\";\nimport AnimatedValueProvider, {\n  useAnimatedValues,\n} from \"../context/animatedValueContext\";\nimport RefProvider, { useRefs } from \"../context/refContext\";\nimport DraggableFlatListProvider from \"../context/draggableFlatListContext\";\nimport { useAutoScroll } from \"../hooks/useAutoScroll\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nimport ScrollOffsetListener from \"./ScrollOffsetListener\";\nimport { typedMemo } from \"../utils\";\n\ntype RNGHFlatListProps<T> = Animated.AnimateProps<\n  FlatListProps<T> & {\n    ref: React.Ref<FlatList<T>>;\n    simultaneousHandlers?: React.Ref<any> | React.Ref<any>[];\n  }\n>;\n\ntype OnViewableItemsChangedCallback<T> = Exclude<\n  FlatListProps<T>[\"onViewableItemsChanged\"],\n  undefined | null\n>;\n\nconst AnimatedFlatList = (Animated.createAnimatedComponent(\n  FlatList\n) as unknown) as <T>(props: RNGHFlatListProps<T>) => React.ReactElement;\n\nfunction DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {\n  const {\n    cellDataRef,\n    containerRef,\n    flatlistRef,\n    keyToIndexRef,\n    propsRef,\n    animationConfigRef,\n  } = useRefs<T>();\n  const {\n    activeCellOffset,\n    activeCellSize,\n    activeIndexAnim,\n    containerSize,\n    scrollOffset,\n    scrollViewSize,\n    spacerIndexAnim,\n    horizontalAnim,\n    placeholderOffset,\n    touchTranslate,\n    autoScrollDistance,\n    panGestureState,\n    isTouchActiveNative,\n    viewableIndexMin,\n    viewableIndexMax,\n    disabled,\n  } = useAnimatedValues();\n\n  const reset = useStableCallback(() => {\n    activeIndexAnim.value = -1;\n    spacerIndexAnim.value = -1;\n    touchTranslate.value = 0;\n    activeCellSize.value = -1;\n    activeCellOffset.value = -1;\n    setActiveKey(null);\n  });\n\n  const {\n    dragHitSlop = DEFAULT_PROPS.dragHitSlop,\n    scrollEnabled = DEFAULT_PROPS.scrollEnabled,\n    activationDistance: activationDistanceProp = DEFAULT_PROPS.activationDistance,\n  } = props;\n\n  let [activeKey, setActiveKey] = useState<string | null>(null);\n  const [layoutAnimationDisabled, setLayoutAnimationDisabled] = useState(\n    !propsRef.current.enableLayoutAnimationExperimental\n  );\n\n  const keyExtractor = useStableCallback((item: T, index: number) => {\n    if (!props.keyExtractor) {\n      throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }\n    return props.keyExtractor(item, index);\n  });\n\n  const dataRef = useRef(props.data);\n  const dataHasChanged =\n    dataRef.current.map(keyExtractor).join(\"\") !==\n    props.data.map(keyExtractor).join(\"\");\n  dataRef.current = props.data;\n  if (dataHasChanged) {\n    // When data changes make sure `activeKey` is nulled out in the same render pass\n    activeKey = null;\n  }\n\n  useEffect(() => {\n    if (!propsRef.current.enableLayoutAnimationExperimental) return;\n    if (activeKey) {\n      setLayoutAnimationDisabled(true);\n    } else {\n      // setTimeout result of trial-and-error to determine how long to wait before\n      // re-enabling layout animations so that a drag reorder does not trigger it.\n      setTimeout(() => {\n        setLayoutAnimationDisabled(false);\n      }, 100);\n    }\n  }, [activeKey]);\n\n  useLayoutEffect(() => {\n    props.data.forEach((d, i) => {\n      const key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n\n  const drag = useStableCallback((activeKey: string) => {\n    if (disabled.value) return;\n    const index = keyToIndexRef.current.get(activeKey);\n    const cellData = cellDataRef.current.get(activeKey);\n    if (cellData) {\n      activeCellOffset.value = cellData.measurements.offset;\n      activeCellSize.value = cellData.measurements.size;\n    }\n\n    const { onDragBegin } = propsRef.current;\n    if (index !== undefined) {\n      spacerIndexAnim.value = index;\n      activeIndexAnim.value = index;\n      setActiveKey(activeKey);\n      onDragBegin?.(index);\n    }\n  });\n\n  const onContainerLayout = ({\n    nativeEvent: { layout },\n  }: LayoutChangeEvent) => {\n    const { width, height } = layout;\n    containerSize.value = props.horizontal ? width : height;\n    props.onContainerLayout?.({ layout, containerRef });\n  };\n\n  const onListContentSizeChange = (w: number, h: number) => {\n    scrollViewSize.value = props.horizontal ? w : h;\n    props.onContentSizeChange?.(w, h);\n  };\n\n  const onContainerTouchStart = () => {\n    if (!disabled.value) {\n      isTouchActiveNative.value = true;\n    }\n    return false;\n  };\n\n  const onContainerTouchEnd = () => {\n    isTouchActiveNative.value = false;\n  };\n\n  const extraData = useMemo(\n    () => ({\n      activeKey,\n      extraData: props.extraData,\n    }),\n    [activeKey, props.extraData]\n  );\n\n  const renderItem: ListRenderItem<T> = useCallback(\n    ({ item, index }) => {\n      const key = keyExtractor(item, index);\n      if (index !== keyToIndexRef.current.get(key)) {\n        keyToIndexRef.current.set(key, index);\n      }\n\n      return (\n        <RowItem\n          item={item}\n          itemKey={key}\n          renderItem={props.renderItem}\n          drag={drag}\n          extraData={props.extraData}\n        />\n      );\n    },\n    [props.renderItem, props.extraData, drag, keyExtractor]\n  );\n\n  const onRelease = useStableCallback((index: number) => {\n    props.onRelease?.(index);\n  });\n\n  const onDragEnd = useStableCallback(\n    ({ from, to }: { from: number; to: number }) => {\n      const { onDragEnd, data } = props;\n\n      const newData = [...data];\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd?.({ from, to, data: newData });\n      setTimeout(reset, 100);\n    }\n  );\n\n  const onPlaceholderIndexChange = useStableCallback((index: number) => {\n    props.onPlaceholderIndexChange?.(index);\n  });\n\n  // Handle case where user ends drag without moving their finger.\n  useAnimatedReaction(\n    () => {\n      return isTouchActiveNative.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev && !cur) {\n        const hasMoved = !!touchTranslate.value;\n        if (!hasMoved && activeIndexAnim.value >= 0 && !disabled.value) {\n          runOnJS(onRelease)(activeIndexAnim.value);\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n        }\n      }\n    },\n    [isTouchActiveNative, onDragEnd, onRelease]\n  );\n\n  useAnimatedReaction(\n    () => {\n      return spacerIndexAnim.value;\n    },\n    (cur, prev) => {\n      if (prev !== null && cur !== prev && cur >= 0 && prev >= 0) {\n        runOnJS(onPlaceholderIndexChange)(cur);\n      }\n    },\n    [spacerIndexAnim]\n  );\n\n  const gestureDisabled = useSharedValue(false);\n\n  const panGesture = Gesture.Pan()\n    .onBegin((evt) => {\n      gestureDisabled.value = disabled.value;\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n    })\n    .onUpdate((evt) => {\n      if (gestureDisabled.value) return;\n      panGestureState.value = evt.state;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n      touchTranslate.value = translation;\n    })\n    .onEnd((evt) => {\n      if (gestureDisabled.value) return;\n      // Set touch val to current translate val\n      isTouchActiveNative.value = false;\n      const translation = horizontalAnim.value\n        ? evt.translationX\n        : evt.translationY;\n\n      touchTranslate.value = translation + autoScrollDistance.value;\n      panGestureState.value = evt.state;\n\n      // Only call onDragEnd if actually dragging a cell\n      if (activeIndexAnim.value === -1 || disabled.value) return;\n      disabled.value = true;\n      runOnJS(onRelease)(activeIndexAnim.value);\n      const springTo = placeholderOffset.value - activeCellOffset.value;\n      touchTranslate.value = withSpring(\n        springTo,\n        animationConfigRef.current,\n        () => {\n          runOnJS(onDragEnd)({\n            from: activeIndexAnim.value,\n            to: spacerIndexAnim.value,\n          });\n          disabled.value = false;\n        }\n      );\n    })\n    .onTouchesDown(() => {\n      runOnJS(onContainerTouchStart)();\n    })\n    .onTouchesUp(() => {\n      // Turning this into a worklet causes timing issues. We want it to run\n      // just after the finger lifts.\n      runOnJS(onContainerTouchEnd)();\n    });\n\n  if (dragHitSlop) panGesture.hitSlop(dragHitSlop);\n  if (activationDistanceProp) {\n    const activeOffset: [number, number] = [-activationDistanceProp, activationDistanceProp];\n    if (props.horizontal) {\n      panGesture.activeOffsetX(activeOffset);\n    } else {\n      panGesture.activeOffsetY(activeOffset);\n    }\n  }\n\n  const onScroll = useStableCallback((scrollOffset: number) => {\n    props.onScrollOffsetChange?.(scrollOffset);\n  });\n\n  const scrollHandler = useAnimatedScrollHandler(\n    {\n      onScroll: (evt) => {\n        scrollOffset.value = horizontalAnim.value\n          ? evt.contentOffset.x\n          : evt.contentOffset.y;\n        runOnJS(onScroll)(scrollOffset.value);\n      },\n    },\n    [horizontalAnim]\n  );\n\n  useAutoScroll();\n\n  const onViewableItemsChanged = useStableCallback<\n    OnViewableItemsChangedCallback<T>\n  >((info) => {\n    const viewableIndices = info.viewableItems\n      .filter((item) => item.isViewable)\n      .map((item) => item.index)\n      .filter((index): index is number => typeof index === \"number\");\n\n    const min = Math.min(...viewableIndices);\n    const max = Math.max(...viewableIndices);\n    viewableIndexMin.value = min;\n    viewableIndexMax.value = max;\n    props.onViewableItemsChanged?.(info);\n  });\n\n  const renderCellRenderComponent = useStableCallback((cellProps) => {\n   return <CellRendererComponent {...cellProps} layoutKey={props.layoutKey} />\n  })\n\n  return (\n    <DraggableFlatListProvider\n      activeKey={activeKey}\n      keyExtractor={keyExtractor}\n      horizontal={!!props.horizontal}\n      layoutAnimationDisabled={layoutAnimationDisabled}\n    >\n      <GestureDetector gesture={panGesture}>\n        <Animated.View\n          style={props.containerStyle}\n          ref={containerRef}\n          onLayout={onContainerLayout}\n        >\n          {props.renderPlaceholder && (\n            <PlaceholderItem renderPlaceholder={props.renderPlaceholder} />\n          )}\n          <AnimatedFlatList\n            {...props}\n            data={props.data}\n            onViewableItemsChanged={onViewableItemsChanged}\n            CellRendererComponent={renderCellRenderComponent}\n            ref={flatlistRef}\n            onContentSizeChange={onListContentSizeChange}\n            scrollEnabled={!activeKey && scrollEnabled}\n            renderItem={renderItem}\n            extraData={extraData}\n            keyExtractor={keyExtractor}\n            onScroll={scrollHandler}\n            scrollEventThrottle={16}\n            simultaneousHandlers={props.simultaneousHandlers}\n            removeClippedSubviews={false}\n          />\n          {!!props.onScrollOffsetChange && (\n            <ScrollOffsetListener\n              onScrollOffsetChange={props.onScrollOffsetChange}\n              scrollOffset={scrollOffset}\n            />\n          )}\n        </Animated.View>\n      </GestureDetector>\n    </DraggableFlatListProvider>\n  );\n}\n\nfunction DraggableFlatList<T>(\n  props: DraggableFlatListProps<T>,\n  ref?: React.ForwardedRef<FlatList<T>> | null\n) {\n  return (\n    <PropsProvider {...props}>\n      <AnimatedValueProvider>\n        <RefProvider flatListRef={ref}>\n          <MemoizedInner {...props} />\n        </RefProvider>\n      </AnimatedValueProvider>\n    </PropsProvider>\n  );\n}\n\nconst MemoizedInner = typedMemo(DraggableFlatListInner);\n\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexport default React.forwardRef(DraggableFlatList) as <T>(\n  props: DraggableFlatListProps<T> & { ref?: React.ForwardedRef<FlatList<T>> }\n) => ReturnType<typeof DraggableFlatList>;\n"],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/node_modules/react-native-draggable-flatlist/lib/typescript/components/DraggableFlatList.d.ts b/node_modules/react-native-draggable-flatlist/lib/typescript/components/DraggableFlatList.d.ts
index d3a4f1f..05af7ed 100644
--- a/node_modules/react-native-draggable-flatlist/lib/typescript/components/DraggableFlatList.d.ts
+++ b/node_modules/react-native-draggable-flatlist/lib/typescript/components/DraggableFlatList.d.ts
@@ -5,6 +5,7 @@ import Animated from "react-native-reanimated";
 import { DraggableFlatListProps } from "../types";
 declare function DraggableFlatList<T>(props: DraggableFlatListProps<T>, ref?: React.ForwardedRef<FlatList<T>> | null): JSX.Element;
 declare const _default: <T>(props: Omit<FlatListProps<T>, "keyExtractor" | "data" | "renderItem" | "debug" | "scrollEnabled" | "autoscrollThreshold" | "autoscrollSpeed" | "animationConfig" | "dragHitSlop" | "activationDistance" | "dragItemOverflow" | "containerStyle" | "onDragBegin" | "onDragEnd" | "onPlaceholderIndexChange" | "onRelease" | "onScrollOffsetChange" | "renderPlaceholder" | "simultaneousHandlers" | "outerScrollOffset" | "onAnimValInit" | "itemEnteringAnimation" | "itemExitingAnimation" | "itemLayoutAnimation" | "enableLayoutAnimationExperimental" | "onContainerLayout"> & {
+    layoutKey?: string
     data: T[];
     activationDistance?: number | undefined;
     animationConfig?: Partial<import("react-native-reanimated").WithSpringConfig> | undefined;
diff --git a/node_modules/react-native-draggable-flatlist/src/components/CellDecorators.tsx b/node_modules/react-native-draggable-flatlist/src/components/CellDecorators.tsx
index e441fdc..867e813 100644
--- a/node_modules/react-native-draggable-flatlist/src/components/CellDecorators.tsx
+++ b/node_modules/react-native-draggable-flatlist/src/components/CellDecorators.tsx
@@ -59,6 +59,7 @@ export const ShadowDecorator = ({
       shadowRadius: isActive ? radius : 0,
       shadowColor: isActive ? color : "transparent",
       shadowOpacity: isActive ? shadowOpacity : 0,
+      boxShadow: `rgba(0, 0, 0, ${shadowOpacity}) 0px 0px 20px`,
     };
   }, [isActive, onActiveAnim]);
 
diff --git a/node_modules/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx b/node_modules/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx
index d7b833b..6eacf34 100644
--- a/node_modules/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx
+++ b/node_modules/react-native-draggable-flatlist/src/components/CellRendererComponent.tsx
@@ -27,10 +27,11 @@ type Props<T> = {
   children: React.ReactNode;
   onLayout?: (e: LayoutChangeEvent) => void;
   style?: StyleProp<ViewStyle>;
+  layoutKey: string
 };
 
 function CellRendererComponent<T>(props: Props<T>) {
-  const { item, index, onLayout, children, ...rest } = props;
+  const { item, index, onLayout, children, layoutKey, ...rest } = props;
 
   const viewRef = useRef<Animated.View>(null);
   const { cellDataRef, propsRef, containerRef } = useRefs<T>();
@@ -72,6 +73,7 @@ function CellRendererComponent<T>(props: Props<T>) {
 
   const updateCellMeasurements = useStableCallback(() => {
     const onSuccess: MeasureLayoutOnSuccessCallback = (x, y, w, h) => {
+      console.log(x, y, w, h);
       if (isWeb && horizontal) x += scrollOffset.value;
       const cellOffset = horizontal ? x : y;
       const cellSize = horizontal ? w : h;
@@ -114,6 +116,16 @@ function CellRendererComponent<T>(props: Props<T>) {
     }
   }, [index, onCellLayout]);
 
+  const lastLayoutKey = useRef(layoutKey)
+  useEffect(() => {
+    if(lastLayoutKey.current !== layoutKey) {
+      requestAnimationFrame(() => {
+        onCellLayout();
+      });
+      lastLayoutKey.current =layoutKey
+    }
+  }, [layoutKey])
+
   const baseStyle = useMemo(() => {
     return {
       elevation: isActive ? 1 : 0,
diff --git a/node_modules/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx b/node_modules/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx
index d7d98c2..10429fe 100644
--- a/node_modules/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx
+++ b/node_modules/react-native-draggable-flatlist/src/components/DraggableFlatList.tsx
@@ -221,7 +221,7 @@ function DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {
       }
 
       onDragEnd?.({ from, to, data: newData });
-      reset();
+      setTimeout(reset, 100);
     }
   );
 
@@ -316,7 +316,7 @@ function DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {
 
   if (dragHitSlop) panGesture.hitSlop(dragHitSlop);
   if (activationDistanceProp) {
-    const activeOffset = [-activationDistanceProp, activationDistanceProp];
+    const activeOffset: [number, number] = [-activationDistanceProp, activationDistanceProp];
     if (props.horizontal) {
       panGesture.activeOffsetX(activeOffset);
     } else {
@@ -357,6 +357,10 @@ function DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {
     props.onViewableItemsChanged?.(info);
   });
 
+  const renderCellRenderComponent = useStableCallback((cellProps) => {
+   return <CellRendererComponent {...cellProps} layoutKey={props.layoutKey} />
+  })
+
   return (
     <DraggableFlatListProvider
       activeKey={activeKey}
@@ -377,7 +381,7 @@ function DraggableFlatListInner<T>(props: DraggableFlatListProps<T>) {
             {...props}
             data={props.data}
             onViewableItemsChanged={onViewableItemsChanged}
-            CellRendererComponent={CellRendererComponent}
+            CellRendererComponent={renderCellRenderComponent}
             ref={flatlistRef}
             onContentSizeChange={onListContentSizeChange}
             scrollEnabled={!activeKey && scrollEnabled}
diff --git a/node_modules/react-native-draggable-flatlist/src/types.ts b/node_modules/react-native-draggable-flatlist/src/types.ts
index d6755c8..b075246 100644
--- a/node_modules/react-native-draggable-flatlist/src/types.ts
+++ b/node_modules/react-native-draggable-flatlist/src/types.ts
@@ -25,6 +25,7 @@ type DefaultProps = Readonly<typeof DEFAULT_PROPS>;
 export type DraggableFlatListProps<T> = Modify<
   FlatListProps<T>,
   {
+    layoutKey?: string;
     data: T[];
     activationDistance?: number;
     animationConfig?: Partial<WithSpringConfig>;
